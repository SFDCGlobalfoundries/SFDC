<apex:page tabStyle="SFDC_Project__c" controller="SFDCProjectManageMembersController">
  <apex:sectionHeader title="{!SFDCProjectName}" subtitle="Manage Membership"/>
  <apex:form id="frm">
  <apex:actionFunction reRender="pb" name="addNewRowCall" action="{!addNewRow}"/>
  
  <apex:pageBlock mode="Edit" id="pb">
        <apex:pageblockButtons >
        <apex:commandButton action="{!Save}" value="Save"/>
        <apex:commandButton onclick="addNewRowCall();return false;"  value="Add New Member" />
        <apex:commandButton onclick="window.open('/{!SFDCProject.Id}','_parent');return false;" value="Cancel" />
        </apex:pageblockButtons>
      <apex:pageMessages />  
      <apex:pageBlockSection columns="1" title="Information">
      
     
      
    <apex:pageBlockSection columns="3">
         <apex:outputLabel style="font-weight:bold" value="Team Member"/>
         <apex:outputLabel style="font-weight:bold" value="Role"/>
         <apex:outputLabel style="font-weight:bold" value="Access"/>
         
     
      <apex:repeat value="{!Members}" var="member" >
             <apex:outputText rendered="{!member.id!=''}">
                  <apex:outputLabel value="{!member.User__r.Name}"/>
             </apex:outputText>
             <apex:outputText rendered="{!member.id=''}">
                 <apex:inputField label="" value="{!member.User__c}"/>
             </apex:outputText>
             <apex:inputField id="memberRole" label="" value="{!member.Role__c}"/>
             <apex:inputField id="memberAccess" label="" value="{!member.Access__c}"/>
     </apex:repeat>
     
  </apex:pageBlockSection>  
  </apex:pageBlockSection> 
    
     
   
 </apex:pageblock>
  
  
  </apex:form>  
</apex:page>