<!-- 
    Type Name:  CaseTeamQueueMemberPage.page
    Author: UCM Team 
    Created Date: 16 Feb, 2016
    Change History:
    Author: 
    Modified Date: 
    Reason: 
-->
<apex:page controller="CaseTeamQueueMemberController" sidebar="false">
<apex:form id="queId">
    <apex:sectionHeader title="Add Queue Members" subtitle="{!caseNumber}"/>
    <apex:pageBlock >
        <apex:outputpanel >
            <table>
               <tr>
                  <td>
                     <b>Select Queue:&nbsp;</b>
                     <apex:selectList value="{!queueId}" size="1" multiselect="false">
                        <apex:selectOptions value="{!Items}"/>
                        <apex:actionSupport event="onchange" action="{!refresh}" reRender="queId"/>
                     </apex:selectList>
                  </td>
               </tr>
            </table>
         </apex:outputpanel>
        <apex:variable var="rowCounter" value="1"/>
        <apex:pageBlockTable value="{!queueMembers}" var="usr" rendered="{!(queueId != null)}">
            <apex:column headerValue="#">
                <apex:outputText value="{!rowCounter}"/>
                <apex:variable var="rowCounter" value="{!VALUE(rowCounter) + 1}"/>
            </apex:column>
            <apex:column headerValue="Name">
                <apex:outputLink value="/{!usr.Id}" target="_blank">{!usr.firstName} {!usr.lastName}</apex:outputlink>
            </apex:column>
            <apex:column value="{!usr.Alias}" headerValue="Alias"/>
            <apex:column value="{!usr.Username}" headerValue="User Name"/>
            <apex:column value="{!usr.Email}" headerValue="Email"/>
            <apex:column value="{!usr.UserRole.name}" headerValue="Role"/>
            <apex:column value="{!usr.Profile.name}" headerValue="Profile"/>
            <apex:column value="{!usr.IsActive}" headerValue="Active"/>
        </apex:pageBlockTable><br/>
        <div align="center">
            <apex:commandButton action="{!assignMembers}" value="Add To CaseTeam" rendered="{!displayBtn}"/>&nbsp;&nbsp;
            <apex:commandButton action="{!cancelJob}" value="Cancel"/>
        </div>
    </apex:pageBlock>
</apex:form>
</apex:page>