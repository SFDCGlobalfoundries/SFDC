<!-- 
Author: Poulami Saha
Date Created  : 08/02/2017
Description:This serves as the visualforce page for Populating Opportunity Quarterly revenue on Request Information page.
History: Poulami Saha   08/02/2017 - page creation.
-->
    
<apex:page StandardController="Request_Information__c" extensions="BnP_DisplayRevenueOnRFQ" action="{!displayRevenue}" showChat="false" >
    <apex:form >        
  <!--This block simply  displays the quarterly revenue data and Sums it up, in a year wise manner-->   
    <apex:pageBlock title="Annual Revenue" rendered="{!NOT(isquoteAccRej)}">
        <apex:outputfield value="{!Request_Information__c.Opportunity__c}" rendered="false"/>
        <apex:pageBlockTable value="{!calSum}" var="a">
            <apex:column headerValue="Year"> {!a.Year} </apex:column>
            <apex:column headervalue="ASP"  rendered="{!NOT(isModuleChip)}"> {!a.asp} </apex:column>
            <apex:column headervalue="Volume" rendered="{!NOT(isModuleChip)}"> {!a.Volume} </apex:column>
            <apex:column headerValue="ASP (Module/Chip)" rendered="{!isModuleChip}"> {!a.aspModChip} </apex:column>
            <apex:column headervalue="Volume (Module/Chip)" rendered="{!isModuleChip}"> {!a.volumeModChip} </apex:column>
            <apex:column headervalue="Total Revenue"> {!a.TotalRev} </apex:column>  
        </apex:pageBlockTable>                         
    </apex:pageBlock>  
    <apex:pageBlock title="Annual Revenue (For Accepted/Rejected RFQ)" rendered="{!isquoteAccRej}">
        <apex:pageBlockTable value="{!revenueSnapShotList}" var="b">
            <apex:column headerValue="Year"> {!b.Year__c} </apex:column>
            <apex:column headerValue="ASP" rendered="{!NOT(isModuleChip)}"> {!b.ASP__c} </apex:column>
            <apex:column headervalue="Volume" rendered="{!NOT(isModuleChip)}">  {!b.Volume__c}   </apex:column>
            <apex:column headerValue="ASP (Module/Chip)" rendered="{!isModuleChip}"> {!b.ASP_Module_Chip__c} </apex:column>
            <apex:column headervalue="Volume (Module/Chip)" rendered="{!isModuleChip}">  {!b.Volume_Module_Chip__c}   </apex:column>
            <apex:column headervalue="Total Revenue"> {!b.Total_Revenue_K__c} </apex:column>  
    </apex:pageBlockTable>                         
    </apex:pageBlock>
    </apex:form>  
</apex:page>