<apex:page StandardController="PWCA_publication__c" extensions="PWCA_PublicationCls" tabStyle="PWCA_publication__c" action="{!resetAccount}" id="pageId">
    <script>
        function CallWebService_JS(isErrorVal,operation){   
            if(isErrorVal != null && isErrorVal == 'false'){
                CallWebService(operation);
            }
        }
    </script>
    <c:loadingPanel />
    
    <apex:form id="formId">
    
        <apex:actionFunction action="{!SavePwcaRecord}" name="InsertRecord_JS"  status="LoadingStatusSpinner" rerender="formId,messages" oncomplete="CallWebService_JS('{!isError}', 'save');"/> <!-- oncomplete="CallWebService_JS();"/> -->
        <apex:actionFunction name="CallWebService" action="{!Createfolder}" status="LoadingStatusSpinner" reRender="formId,messages">
            <apex:param name="operation" assignTo="{!operation}" value=""/>
        </apex:actionFunction>
        
        <apex:pageMessages id="messages"></apex:pageMessages>

        <apex:pageBlock id="pbId">
            <apex:pageBlockButtons >
                <input name="Save" class="btn" type="button" value="Save" onclick="InsertRecord_JS();return false;"/>
                <apex:commandButton value="Save & New" action="{!saveNew}" rerender="formId,messages" status="LoadingStatusSpinner" oncomplete="CallWebService_JS('{!isError}','savenew');"/>
                <apex:commandButton value="Cancel" action="{!cancel}"/>
                </apex:pageBlockButtons>
                
            <apex:pageBlockSection title="PWCA Section" columns="2">
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="right">
                            <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Fab__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!pwcaObj.Fab__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Technology_Node__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Technology_Node__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.TypeOfDocument__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.TypeOfDocument__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionitem>
                    <apex:outputField value="{!pwcaObj.Document_Status__c}"/>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Type_of_Metal_Layers__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Type_of_Metal_Layers__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Regional_Site_Approval__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputfield value="{!pwcaObj.Regional_Site_Approval__c}"/>
                        </apex:outputPanel>
                    </apex:pageBlockSectionitem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Dopants_Used_for_Implantation__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Dopants_Used_for_Implantation__c}"/>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Valid_Till__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Valid_Till__c}"/>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Lot_ID__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Lot_ID__c}"/>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Report_Date__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Report_Date__c}"/>
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    
                    <apex:inputField value="{!pwcaObj.Reviewer_Needed__c}"/>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Wafer_ID__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Wafer_ID__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:inputField value="{!pwcaObj.Targets_used_in_metal_deposition__c}"/>
                    <apex:inputField value="{!pwcaObj.Information_from_YE__c}"/>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <div align="right">
                                <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.Device_ID__c.label}" />
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.Device_ID__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputPanel >
                            <apex:outputText value="{!$ObjectType.PWCA_publication__c.fields.No_of_Metal_Layers__c.label}" />
                        </apex:outputPanel>
                        <apex:outputPanel styleClass="requiredInput" layout="block">
                            <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                            <apex:inputField value="{!pwcaObj.No_of_Metal_Layers__c}" />
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
                
            <apex:pageBlockSection title="Customer Section" columns="1" id="pageBlockSectionId">
                
           
            <apex:pageBlockSectionItem >
           <apex:outputPanel >
                        <div align="left"> 
                         <apex:outputText value="Select Type" escape="true" />
                        </div>
                    </apex:outputPanel>    
                        <apex:selectList size="1" value="{!category}" id="Category">
                            <apex:selectOption itemLabel="---Select---" itemValue="None"></apex:selectOption>
                            <apex:selectOption itemLabel="Authorized Customer" itemValue="Auth Customer" ></apex:selectOption>
                            <apex:selectOption itemLabel="Qualified Customer" itemValue="Qual Customer" ></apex:selectOption>
                            <apex:selectOption itemLabel="Enablement" itemValue="Enablement Partner" ></apex:selectOption>
                            <apex:selectOption itemLabel="Reseller" itemValue="Reseller" ></apex:selectOption>
                            <apex:actionSupport event="onchange" action="{!resetAccount}" reRender="panelGridId,ceOwner" status="LoadingStatusSpinner"/>
                            
                        </apex:selectList>  
            
            </apex:pageBlockSectionItem>
            
            
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="Customer" />
                        </div> 
                    </apex:outputPanel>
                            <apex:panelGrid columns="3" id="panelGridId">
                            
                                    <apex:selectList id="sel1" value="{!leftselected}" multiselect="true"  style="width:350px" size="7">
                                        <apex:actionSupport event="ondblclick"  action="{!selectclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>
                                        <apex:selectOptions value="{!PopulateCustomerSelectOption}" />
                                    </apex:selectList>
                                    
                                    <apex:panelGroup >
                                        &nbsp;&nbsp;&nbsp;&nbsp;<apex:commandbutton value="Add All" action="{!selectallclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>
                                        <br/>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<apex:image value="{!$Resource.multiselected}">
                                        <apex:actionSupport event="onclick"  action="{!selectclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>
                                        </apex:image>
                                        <br/><br/>
                                      
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<apex:image value="{!$Resource.multiunselected}">
                                        <apex:actionSupport event="onclick" action="{!unselectclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>
                                        </apex:image>
                                        <br/>
                                        <apex:commandbutton value="Remove All" action="{!unselectallclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>                   
                                    </apex:panelGroup>
                                    
                                    <apex:selectList id="sel2" value="{!rightselected}" multiselect="true" style="width:350px" size="7">
                                    <apex:actionSupport event="ondblclick" action="{!unselectclick}" status="LoadingStatusSpinner" reRender="panelGridId"/>
                                            <apex:selectOptions value="{!PopulateCustomerUnSelectOption}" />
                                    </apex:selectList>
                            </apex:panelGrid>
                </apex:pageBlockSectionItem>
           </apex:pageBlockSection>
           
        </apex:pageBlock>
    </apex:form>
</apex:page>