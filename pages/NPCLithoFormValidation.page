<!--
    Author: Cognizant
    Description: This serves as the intermediate approval/rejection page for NPC. 
-->
<apex:page showHeader="true" sidebar="true" controller="NPCFormMultiApprProcessController" tabStyle="New_Part_Creation_Form__c">     
    <apex:form >
        <apex:sectionHeader title="Approval Request" subtitle="NPC Form: {!npcForm.Name}" help="https://help.salesforce.com/htviewhelpdoc?id=co_edit.htm&siteLang=en_US" />
        <apex:pagemessages />
        <apex:pageBlock title="Approve/Reject Approval Request" >            
            <apex:pageBlockSection columns="1" collapsible="false">
                <apex:outputField value="{!npcForm.Name}"/>
                <apex:outputField value="{!npcForm.Account_Name__c}"/>
                <apex:outputField value="{!npcForm.Fab__c}"/>
                <apex:outputField value="{!npcForm.Originating_Device__c}"/>
                <apex:outputField value="{!npcForm.Reason_for_New_Part__c}"/>
                <apex:inputField value="{!npcForm.Litho_Validate_Reticle_is_in_GF__c}" label="Litho Validate Reticle is in GF" rendered="{!if(((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='' || npcForm.STF_Activation_Steps__c='null'))
                                           || (npcForm.Litho_Validate_Reticle_is_in_GF__c='NO')), true, false)}"/>
                <apex:inputField value="{!npcForm.Comments1__c}" label="Litho validation Comments" rendered="{!if(((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='' || npcForm.STF_Activation_Steps__c='null'))
                                           || (npcForm.Litho_Validate_Reticle_is_in_GF__c='NO')), true, false)}"/>
                                                                      
                                           
                </apex:pageBlockSection>
            <apex:pageBlockSection title="PI/YE HOD Approval Details" columns="1" collapsible="false" rendered="{!if((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='Step 2' || npcForm.Is_reticle_available__c=Reticle_ReturntoCustomer)), true, false)}">    
                <apex:inputField value="{!npcForm.PIYE_Approver_1__c}" label="PI/YE Approver 1" rendered="{!if((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='Step 2' || npcForm.Is_reticle_available__c=Reticle_ReturntoCustomer)), true, false)}"/>

                <apex:inputField value="{!npcForm.PIYE_Approver_2__c}" label="PI/YE Approver 2" rendered="{!if((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='Step 2' || npcForm.Is_reticle_available__c= Reticle_ReturntoCustomer)), true, false)}"/>
                <apex:inputField value="{!npcForm.PIYE_Approver_3__c}" label="PI/YE Approver 3" rendered="{!if((npcForm.Reason_for_New_Part__c='Device Reactivation' && (npcForm.STF_Activation_Steps__c='Step 2' || npcForm.Is_reticle_available__c=Reticle_ReturntoCustomer)), true, false)}"/>
              <!--  <apex:inputField value="{!npcForm.PIYE_Approver_4__c}" label="PI/YE Approver 4" rendered="{!if((npcForm.Reason_for_New_Part__c='Device Reactivation' && npcForm.STF_Activation_Steps__c='Step 2'), true, false)}"/>-->
              <!--  <apex:inputField value="{!npcForm.Assignee_1__c}" label="Assignee 1"/>-->
                <apex:inputTextarea value="{!comments}" label="Comments" style="width:50%" />
            </apex:pageBlockSection>
        

            <apex:pageBlockButtons rendered="{!isLithoPage}"  location="bottom" id="buttonsBlock1">
                <apex:commandButton value="Confirm" action="{!approveNPC}" />
                <apex:commandButton value="Cancel" action="{!cancelNPC}" />
            </apex:pageBlockButtons>
            <apex:pageBlockButtons rendered="{!NOT(isLithoPage)}" location="bottom" id="buttonsBlock">
                <apex:commandButton value="Approve" action="{!approveNPC}" />
                <apex:commandButton value="Reject" action="{!rejectNPC}" />
                <apex:commandButton value="Cancel" action="{!cancelNPC}" />
            </apex:pageBlockButtons> 
                    
        </apex:pageBlock>
    </apex:form>
</apex:page>