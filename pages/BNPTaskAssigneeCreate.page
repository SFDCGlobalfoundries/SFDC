<!--
Author        : Poulami Saha
Date Created  : 18/08/2016
Description   : This page is used to create task assignee.
-->

<apex:page standardController="RFQ_Task_Assignee__c" extensions="BNPTaskAssigneeCreateCtrl" >
<script>
    var newWin=null;
    function openLookupPopup(queryname, name, id)
    {
        var myPicklistElement = document.getElementById(queryname);
        var myPicklistValue = myPicklistElement.options[myPicklistElement.selectedIndex].value;
        var url="/apex/BNPTaskAssigneeLookup?queryfield=" + myPicklistValue + "&namefield=" + name + "&idfield=" + id;
        //var url="/apex/BNPTaskAssigneeLookup?queryfield=" + myPicklistValue;
        newWin=window.open(url, 'Popup','height=500,width=900,left=100,top=100,resizable=no,scrollbars=no,toolbar=no,status=no');
        if (window.focus) 
        {
            newWin.focus();
        }
            
        return false;
    }
                  
    function closeLookupPopup()
    {
       if (null!=newWin)
       {
          newWin.close();
       }  
    }
</script>
 <apex:form id="form1">
    
    <apex:pageBlock id="pb1" mode="edit" title="New RFQ Task Assignee">
        <apex:pageBlockButtons location="top">
           <apex:commandButton value="Save" action="{!save}"/>
          <!--<apex:commandButton value="Create New Group" onclick="window.open('/apex/BNPTaskAssigneeGroupCreation','_blank');return false;"/>-->
          <apex:commandButton action="{!cancel}" value="Cancel"/>
        </apex:pageBlockButtons>
        <apex:pageMessages id="tskmsg"/> 

          <apex:pageBlockSection id="Section1a" columns="2">
            <apex:inputField required="true" value="{!RFQ_Task_Assignee__c.RFQ_Task_Routing__c}" />
            <!--<apex:inputField required="true" value="{!RFQ_Task_Assignee__c.User__c}" />-->
            
            
            
            <apex:inputField required="true" value="{!RFQ_Task_Assignee__c.Notify__c}" />
            <apex:inputField required="true" value="{!RFQ_Task_Assignee__c.User_Type__c}" />
          </apex:pageBlockSection>
          
          <!--<apex:pageBlockSection columns="2">
              <apex:pageBlockSectionItem>
              <apex:selectList value="{!selectedCountry1}" multiselect="false" size="1" title="Task Assignee">
                <b>Task Assignee</b>&nbsp;&nbsp;&nbsp;
                <apex:selectOptions value="{!countriesOptions}"/>
              </apex:selectList>
              </apex:pageBlockSectionItem>
              <apex:pageBlockSectionItem>
              <apex:inputText value="{!RFQ_Task_Assignee__c.User__c}" > </apex:inputText>
              </apex:pageBlockSectionItem>
          </apex:pageBlockSection>-->
          
          <apex:pageBlockSection columns="1">
            <apex:pageBlockSectionitem >
              <apex:outputLabel value="Task Assignee"/>
              <apex:outputPanel >
              <apex:selectList value="{!selectedCountry1}" multiselect="false" size="1" title="Task Assignee" id="selectedValue">
                <apex:selectOptions value="{!countriesOptions}"/>
              </apex:selectList>
             <apex:inputHidden value="{!usrGrpId}" id="targetId" />
                <!--<apex:inputText size="40" value="{!usrGrpName}" id="targetName" onFocus="this.blur()" disabled="false"/> -->
                <apex:inputText size="40" value="{!usrGrpName}" id="targetName" disabled="false"/> 
                <!--<a href="#" onclick="openLookupPopup('{!$Component.selectedValue}', '{!$Component.targetName}', '{!$Component.targetId}'); return false">Lookup</a>-->
                <img src="/s.gif" onclick="openLookupPopup('{!$Component.selectedValue}', '{!$Component.targetName}', '{!$Component.targetId}'); return false" class="lookupIcon" onmouseout="this.className='lookupIcon';" alt="User/Group Name Lookup (New Window)" onmouseover="this.className='lookupIconOn';"/>
                <!--<apex:inputText size="40" value="{!RFQ_Task_Assignee__c.User__r.Name}" id="targetName" onFocus="this.blur()" disabled="false"/> <a href="#" onclick="openLookupPopup('{!$Component.selectedValue}'); return false">Lookup</a>-->
              </apex:outputPanel>
            </apex:pageBlockSectionitem>
      </apex:pageBlockSection>
    </apex:pageBlock>
 </apex:form>
</apex:page>