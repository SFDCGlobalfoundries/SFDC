<!--
    Created By      : Kali
    Description     : Used to show the error messages based on the Sub Type A, Sub Type B, Sub Type C and Sub TYpe D
-->

<apex:page standardController="Bug__c"  extensions="ASICBugDetailPageCls" id="page">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js" />
    <script src="/soap/ajax/15.0/connection.js" type="text/javascript"></script>
    <script src="/soap/ajax/15.0/apex.js" type="text/javascript"></script>
    <script src="../static/102010/js/picklist.js"></script>
   
    <apex:form >
        <apex:pagemessages />
        <apex:outputpanel >
            <apex:actionstatus id="status">
                <apex:facet name="start">
                    <div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb;
                           height: 100%;opacity:0.65;width:100%;"> 
                        <div class="waitingHolder" style="top: 74.2px; width: 91px;">
                            <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." />
                            <span class="waitingDescription">Please Wait...</span>
                        </div>
                    </div>
                </apex:facet>
            </apex:actionstatus>
        </apex:outputpanel>
        
        
        
        <apex:pageBlock >
            <apex:pageMessages id="msg"></apex:pageMessages>
            <apex:pageBlockSection id="ownerInfo" columns="2">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.OwnerId.Label}" />
                    <apex:outputField value="{!objBug.ownerId}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Name.Label}" />
                    <apex:outputField value="{!objBug.name}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Assigned_To__c.Label}" />
                    <apex:inputField value="{!objBug.Assigned_To__c}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
              
            <apex:pageblocksection columns="1" showHeader="true" title="General" collapsible="false">
                    <apex:outputtext label="{!$ObjectType.Bug__c.fields.Bug_Title__c.Label}">
                        <apex:outputPanel layout="block" styleClass="requiredInput">
                            <div class="requiredBlock"></div>
                                <apex:inputText value="{!objBug.Bug_Title__c}" size="123"/>                        
                            </apex:outputPanel>
                    </apex:outputtext>
            </apex:pageblocksection>          
              
              <apex:pageblocksection id="general" columns="2">                  
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Priority__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Priority__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!objBug.Priority__c}"/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Need_By_Date__c.Label}" />
                    <apex:inputField value="{!objBug.Need_By_Date__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Technology__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!objBug.Technology__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Status__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Status__c.Label}" />
                    <apex:inputField value="{!objBug.Status__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Account_Affected__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Account_Affected__c.Label}"/>
                    <apex:inputField value="{!objBug.Account_Affected__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Original_Bug__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Original_Bug__c.Label}" />
                    <apex:inputField value="{!objBug.Original_Bug__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Library_Release__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!objBug.Library_Release__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Severity__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Severity__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!objBug.Severity__c}"/>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                
                <apex:pageblocksectionitem helpText="{!$ObjectType.Bug__c.fields.Customer_Project__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Customer_Project__c.Label}"/>
                    <apex:selectList id="customerProject" value="{!cstProject}" size="10" multiselect="true">
                        <apex:selectOptions value="{!listCustomerProject1}"/>
                        <apex:selectOptions value="{!listCustomerProject2}"/>
                    </apex:selectList>
                </apex:pageblocksectionitem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.CQ__c.Label}" />
                    <apex:outputField value="{!objBug.CQ__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.DevComplete__c.Label}" />
                    <apex:inputField value="{!objBug.DevComplete__c}"/>
                </apex:pageBlockSectionItem>
                
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Problem Identification" id="problemSection" columns="2" showHeader="true" collapsible="false">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Problem_Class__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputField value="{!objBug.Problem_Class__c}" />
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Dev_Only__c.Label}" />
                    <apex:inputField value="{!objBug.Dev_Only__c}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="problemType">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Problem_Type__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:selectList id="problemType" value="{!problemType}" size="1" required="true" >
                            <apex:actionSupport status="status" event="onchange" action="{!retrieveProblemType}" rerender="subTypeA, problemSection, pageMessages,pageBlockId"/>
                            <apex:selectOptions value="{!listProblemTypeOptions}"/>
                        </apex:selectList>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Is_this_a_Test_Rule__c.Label}" />
                    <apex:inputField value="{!objBug.Is_this_a_Test_Rule__c}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="subTypeA" rendered="{!isShowSubTypeA}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Sub_Type_A__c.Label}" />
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:selectList id="subTypeAVal" value="{!subTypeA}" size="1" >
                            <apex:actionSupport status="status" event="onchange" action="{!retrieveSubTypeA}" rerender="subTypeB, problemSection,pageMessages,pageBlockId"/>
                            <apex:selectOptions value="{!listSubTYpeAOptions}"/>
                        </apex:selectList>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem> 
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Vendor_Id__c.Label}" />
                    <apex:inputField value="{!objBug.Vendor_Id__c}"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="subTypeB" rendered="{!isShowSubTypeB}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Sub_Type_B__c.Label}" />
                    <apex:selectList id="subTypeBVal" value="{!subTypeB}" size="1" >
                        <apex:actionSupport status="status" event="onchange" action="{!retrieveSubTypeB}" rerender="subTypeC, problemSection,,pageMessages,pageBlockId"/>
                        <apex:selectOptions value="{!listSubTYpeBOptions}"/>
                    </apex:selectList>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="subTypeC" rendered="{!isShowSubTypeC}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Sub_Type_C__c.Label}" />
                    <apex:selectList id="subTypeCVal" value="{!subTypeC}" size="1" >
                        <apex:actionSupport status="status" event="onchange" action="{!retrieveSubTypeC}" rerender="subTypD, problemSection,pageMessages,pageBlockId"/>
                        <apex:selectOptions value="{!listSubTYpeCOptions}"/>
                    </apex:selectList>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem id="subTypeD" rendered="{!isShowSubTypeD}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Sub_Type_D__c.Label}" />
                    <apex:selectList id="subTypeDVal" value="{!subTypeD}" size="1" >
                        <apex:selectOptions value="{!listSubTYpeDOptions}"/>
                    </apex:selectList>
                </apex:pageBlockSectionItem>
                
            </apex:pageBlockSection>
            
            <apex:outputPanel rendered="{!IF(Bug__c.Id ==null,true,false)}">
            <apex:pageblocksection columns="1" showHeader="true" title="Description" collapsible="false">
                    <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Bug_Description__c.InlineHelpText}">
                        <apex:outputLabel Value="{!$ObjectType.Bug__c.fields.Bug_Description__c.Label}"/>
                        <apex:outputPanel layout="block" styleClass="requiredInput">
                            <div class="requiredBlock"></div>
                                <apex:inputField value="{!objBug.Bug_Description__c}"/>                        
                        </apex:outputPanel>
                    </apex:pageBlockSectionItem>
            </apex:pageblocksection>
            </apex:outputPanel>              
            
            <apex:outputPanel rendered="{!IF(Bug__c.Id !=null,true,false)}">
            <apex:pageblocksection columns="1" showHeader="true" title="Description" collapsible="false" >
                <apex:outputField value="{!objBug.Bug_Description__c}" rendered="{!($User.Id != Bug__c.createdbyid)}"/> 
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Bug_Description__c.InlineHelpText}" rendered="{!($User.Id == Bug__c.createdbyid)}">
                     <apex:outputLabel Value="{!$ObjectType.Bug__c.fields.Bug_Description__c.Label}"/>
                     <apex:outputPanel layout="block" styleClass="requiredInput">
                            <div class="requiredBlock"></div>
                            <apex:inputField value="{!objBug.Bug_Description__c}"/>                                                       
                     </apex:outputPanel>
                </apex:pageBlockSectionItem>                
            </apex:pageblocksection>
            </apex:outputPanel>
            
            <apex:pageBlockSection title="Metrics" showHeader="true" collapsible="false">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Projected_Availability_Date__c.Label}" />
                    <apex:inputField value="{!objBug.Projected_Availability_Date__c}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="Resolution" showHeader="true" collapsible="false">
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.Root_Cause__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Root_Cause__c.Label}" />
                    <apex:inputField value="{!objBug.Root_Cause__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Root_Cause_Analysis__c.Label}" />
                    <apex:inputField value="{!objBug.Root_Cause_Analysis__c}"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem helpText="{!$ObjectType.Bug__c.fields.ASICResolution__c.InlineHelpText}">
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.ASICResolution__c.Label}" />
                    <apex:inputField value="{!objBug.ASICResolution__c}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="CIA Approval" showHeader="true" collapsible="false" columns="2">
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Status_of_CIA_Approval__c.Label}" />
                        <apex:inputField value="{!objBug.Status_of_CIA_Approval__c}" style="width: 360px"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Date_Approved_for_Release__c.Label}" />
                        <apex:inputField value="{!objBug.Date_Approved_for_Release__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Date_Approved_by_CIA__c.Label}" />
                        <apex:inputField value="{!objBug.Date_Approved_by_CIA__c}"/>
                    </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="" showHeader="true" collapsible="false" columns="2">
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Request_For_CIA_Approval__c.Label}" />
                        <apex:inputField value="{!objBug.Request_For_CIA_Approval__c}" style="width: 410px"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Requires_Overt_Customer_Actions__c.Label}" />
                        <apex:inputField value="{!objBug.Requires_Overt_Customer_Actions__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Change_to_Form_Function__c.Label}" />
                        <apex:inputField value="{!objBug.Change_to_Form_Function__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Communication_Type_Required__c.Label}" />
                        <apex:inputField value="{!objBug.Communication_Type_Required__c}" style="width: 380px"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.ASIC_Change_Request__c.Label}" />
                        <apex:inputField value="{!objBug.ASIC_Change_Request__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.ASIC_Communicator_RID__c.Label}" />
                        <apex:inputField value="{!objBug.ASIC_Communicator_RID__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.ASIC_Communicator_SID__c.Label}" />
                        <apex:inputField value="{!objBug.ASIC_Communicator_SID__c}"/>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem >
                        <apex:outputLabel value="{!$ObjectType.Bug__c.fields.Identify_Dependencies__c.Label}" />
                        <apex:inputField value="{!objBug.Identify_Dependencies__c}" style="width: 450px; height: 70px"/>
                    </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            <apex:pageBlockSection title="System Information" showHeader="true" collapsible="false">
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="{!$ObjectType.Bug__c.fields.RecordTypeId.Label}" />
                    <apex:outputField value="{!objBug.RecordTypeId}"/>
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            
            
            <apex:pageBlockButtons >
                <apex:commandButton action="{!save}" value="Save" rerender="msg, status" status="status"/>
                <apex:commandButton action="{!Cancel}" value="Cancel"/>
            </apex:pageBlockButtons>
            
        </apex:pageBlock>
    </apex:form>
    <script>
        // A $( document ).ready() block.
        $( document ).ready(function() {
           if('{!cstProject}'==null || '{!cstProject}'==''|| '{!cstProject}'==undefined)$("[name$='customerProject']").val('ALL CUSTOMERS');
        });
    </script>

</apex:page>