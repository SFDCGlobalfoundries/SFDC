<!--
Author        : Poulami Saha
Date Created  : 19/04/2017
Description   : This page is used as inline vf page in RFQ page layout to upload and display Costing Attachment.
-->

<apex:page standardController="Request_Information__c" extensions="BnP_AttachCostingFile" action="{!displatAttachment}">
<apex:form enctype="multipart/form-data">
        <apex:pageMessages />
        <apex:pageBlock title="Attach Costing File">
            <apex:pageBlockButtons location="top">
                  <apex:commandButton value="Save" action="{!saveApplicant}" />
            </apex:pageBlockButtons>
            <apex:pageBlockSection showHeader="false">
                <apex:pageBlockSectionItem >
                  <apex:outputLabel value="Select file to attach (Maximum file size: 25MB)"/>
                  <apex:inputFile value="{!objAttachment.body}" filename="{!objAttachment.name}" contentType="{!objAttachment.ContentType}" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
        <apex:pageBlock title="Costing Attachment">
            <apex:pageBlockTable value="{!wrapperList}" var="o" rendered="{!NOT(ISNULL(wrapperList))}">
                <apex:column >
                    <apex:facet name="header">File Name</apex:facet>
                    <a href="/{!o.attRec.id}" target="_blank">{!o.attRec.Name}</a>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">File Type</apex:facet>
                    {!o.attRec.ContentType}
                </apex:column>
                <!--<apex:column >
                    <apex:facet name="header">Description</apex:facet>
                    {!o.attRec.Description}
                </apex:column>-->
                <apex:column >
                    <apex:facet name="header">File Size</apex:facet>
                    {!o.attRec.BodyLength}
                </apex:column>
            </apex:pageBlockTable>
            <apex:outputLabel value="No records to display" rendered="{!(ISNULL(wrapperList))}" styleClass="noRowsHeader"></apex:outputLabel>
        </apex:pageBlock>
    </apex:form>    
           
</apex:page>