<!--
  Author: Surendranadh Nune
  Company: GlobalFoundries,India
  Project: Return Material Authorization
  Description: This visualforce page is used to resend the email that was already sent eariler.
  History:
     SurendranadhNune 05112015  -   Created.
-->
<apex:page standardController="RMA_Audit_log__c" tabStyle="RMA__c" extensions="RMA_Mail_Log_ResendCtrl" showHeader="false" sidebar="false" showChat="false">
	<style>
		.data2Col,.labelCol{
			background-color:white;
		}
	</style> 
    <apex:form >
       <apex:inputHidden value="{!RMA_Audit_log__c.rma__r.ownerid}"/>
       <c:loadingPanel />
       <apex:pageBlock title="Mail Content"> 
           <apex:pageMessages id="pgmsgs"/>
           <apex:pageBlockButtons location="top">
               	<apex:commandButton value="Resend" action="{!resend}" status="LoadingStatusSpinner" rerender="pgmsgs" disabled="{!NOT(isCSR)}"/>
           </apex:pageBlockButtons> 
           <apex:pageBlockSection columns="1">
               <apex:outputField label="Date/Time" value="{!RMA_Audit_log__c.createdDate}"/>
               <apex:outputField label="To" value="{!RMA_Audit_log__c.To__c}"/>
               <apex:outputField label="CC" value="{!RMA_Audit_log__c.Cc__c}"/> 
               <apex:inputTextArea label="Additional addresses" rows="3" cols="85" html-placeholder="Enter additional addresses separated by semi-colon(;)" value="{!addCC}" disabled="{!NOT(OR($Profile.Name == 'System Administrator',$User.Id == RMA_Audit_log__c.rma__r.ownerid))}"/>
               <apex:outputField label="Subject" value="{!RMA_Audit_log__c.Subject__c}"/>
               <apex:outputField label="Mail Content" value="{!RMA_Audit_log__c.Email_Body__c}"/>
           </apex:pageBlockSection>
       </apex:pageBlock>
    </apex:form>
</apex:page>