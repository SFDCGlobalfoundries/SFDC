<!-- 
Type Name:  Bug_Redirect.page
Author: Cognizant 
Created Date: 03/31/2014
Reason: 
Change History:
Author: 
Modified Date: 
Reason: 
 -->


<apex:page standardController="Bug__c" extensions="BugRedirect" ShowChat="false" Cache="false">
  <apex:sectionHeader title="New Bug/Work Request" subtitle="Select Bug/Work Request Record Type"/>
    <p>Select a record type for the new bug/work request. To skip this page in the future, change your record type settings on your personal setup page.</P>
    <apex:pageMessages />
    <apex:form > 
        <apex:pageBlock mode="Edit" title="Select Bug/Work Request Record Type" >
            <apex:pageBlockSection >                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel >Record Type of new record</apex:outputLabel>
                    <apex:outputPanel id="bugRecordTypePanel">
                    <div class="requiredInput">
                    <div class="requiredBlock"></div>
                    <apex:selectList value="{!selectedRecordType}" multiselect="false" size="1" required="true">
                    <apex:selectOptions value="{!bugRecordTypes}"/>
                    </apex:selectList>
                    </div>
                    </apex:outputPanel>
                </apex:pageBlockSectionItem>
            
            </apex:pageBlockSection>
            
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton value="Continue" action="{!redirectToPage}"/>
                <apex:commandButton value="Cancel" action="{!cancelOrder}"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
    
    <br/>    
    <apex:pageBlock title="Available Bug/Work Request Record Types">
        <apex:pageBlockTable value="{!bugRecordTypeList}" var="rt">
            <apex:column headerValue="Record Type Name"><b>{!IF(rt.name=='PDK Request', 'PDK Work Requests', rt.name)}</b></apex:column>
            <apex:column headerValue="Description"><apex:outputtext escape="false" value="{!IF(rt.description=='Bug for IPDEV request','Bug Tracker for IP Development<label style=\"color:blue;font-weight:bold\"> For internal IP only, STGC CQ replacement</label>',rt.description)}" /></apex:column>
            <!--<apex:column value="{!rt.description}"/> -->
        </apex:pageBlockTable>
    </apex:pageBlock>
</apex:page>