<!-- 
    Author: Anil Kumar Reddy L
    Company: GLOBALFOUNDRIES
    Project: FMS 2.0
    Description: Page used to choose Other user to Subscribe.
    Change History: 
    Date               Name                    Comments
    -->
<apex:page controller="FMSSubscribeOtherUserCtrl" id="othrUsrsubPage">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery-ui.min.js"></script> 
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery-ui.css"></script> 
    <script type="text/javascript"> 
        var $j = jQuery.noConflict(); 
        $j(document).ready(function(){ 
            $j("[id$='othrUsrsubPage:formtag:pgblktag:pgblksectag:userinput_mlktp']").hide();
        });
        
     function lookUpSelectedUser(userId, name){
        
          popUpLookUp.close(); 
          document.getElementsByClassName('subUsername')[0].value = name;
           document.getElementsByClassName('userLookupid')[0].value = userId;
           /*document.getElementsById('{!$Component.hiddenUserId}').value = userId;*/
           
     }
        
        function popupwindow(title, w, h) {  
       
       var url = '/apex/FMSSubscribeCustomLookPage?id={!formId }'; 
       var left = (screen.width/2)-(w/2);  
       var top = (screen.height/2)-(h/2);  
       popUpLookUp = window.open(url, 'title', 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width='+w+', height='+h+', top='+top+', left='+left);  
       return popUpLookUp;  
       
       } 
              

        
    </script> 
    
    <style>
        

        
    </style>

    <apex:form id="formtag" >
    <apex:pageMessages id="id1"></apex:pageMessages>
        <apex:pageBlock title="Subscribe a User this Form" id="pgblktag">
            <apex:pageBlockSection columns="1" id="pgblksectag">
                <apex:pageBlockSectionItem >
                    <apex:outputText value="Enter the user ID of the person you want to subscriber to this form"/>
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!!isExternalUser }" id="pgblksectag">
                    <apex:outputPanel id="pnl1">
                        <apex:inputText id="subUsername"  value="{!internalUsername}" styleClass="subUsername"  />
                        <apex:image value="/s.gif" StyleClass="lookupIcon" style="cursor:pointer;" onclick="popupwindow('User', 600, 500)" />
                        <apex:inputText style="display:none !important;" styleclass="userLookupid" value="{!internalUserId}"   />   
                      <!--  <apex:inputText id="userNameid"  value="{!internalUsername}" />  -->
                    </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem rendered="{!isExternalUser }">
                    <apex:outputPanel >     
                           <apex:selectList value="{!selectedAccId}" size="1" rendered="{!isExternalUser }" >
                                <apex:selectOptions value="{!cnName}" />
                            </apex:selectList>
                     </apex:outputPanel> 
               </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
            <apex:pageBlockButtons >
                <apex:commandButton value="Submit" action="{!subscribeOnSubmit}" rendered="{!!noUser}" />
                <apex:commandButton value="Cancel" action="{!subscribeCancel}"  />
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
</apex:page>