<apex:page standardController="Part_Family__c" extensions="MDD_FamilyAttachments" >
    <apex:sectionHeader subtitle="{!Part_Family__c.Name}" title="MDD Part Family"/>
    <apex:form >
    <apex:pageBlock >
        <apex:pageBlockSection title="MDD Part Family">
            <apex:outputField value="{!Part_Family__c.Name}" label="Part Family Name"/> <br></br><br></br>
        </apex:pageBlockSection>
        
        <apex:pageBlockTable value="{!lstAttach}" var="a">
            <apex:column headerValue="Download">
                <apex:commandLink action="{!download}" target="_blank" >Download
                    <apex:param name="feedParam1" value="{!a.RelatedRecordId}" assignTo="{!relatedRecordId}"/>
                </apex:commandLink>&nbsp;|&nbsp;
                <apex:commandLink onclick="return confirm('Do you really want to delete ?');" action="{!deleteFile}" >Del
                    <apex:param name="feedParam2" value="{!a.Id}" assignTo="{!recId}"/>
                </apex:commandLink>
            </apex:column>
            <apex:column headerValue="Title">
                <apex:commandLink action="{!viewFile}" target="_blank" >{!a.Title}
                    <apex:param name="feedParam3" value="{!a.RelatedRecordId}" assignTo="{!relatedRecordId}"/>
                </apex:commandLink>
            </apex:column> 
            <apex:column value="{!a.ContentType}"/>
        </apex:pageBlockTable>
        <apex:pageBlockButtons >
            <apex:commandButton value="Add Analytical Files" action="{!attachFile}"/>
            <apex:commandButton value="Edit" action="{!Edit}"/>
        </apex:pageBlockButtons>
    </apex:pageBlock>
    </apex:form>
</apex:page>