<!--
    Author: Zymark Ambat
    Description: This page is used as the view page for Wafer Write Off.
    History: 
        ZAmbat      01292015    - Page creation.
-->

<apex:page id="WaferWriteOffApprovalVF" standardController="Wafer_Write_Off__c" extensions="WaferWriteOffApprovalController" sidebar="true" showHeader="true" tabStyle="Wafer_Write_Off__c">
    <apex:includeScript value="{!URLFOR($Resource.jquery, 'js/jquery-1.8.3.js')}" />
    <script>
        $(document).ready(function(){
            if (document.getElementsByName("piRemove")[0] != undefined && document.getElementsByName("piRemove")[0] != null) {
                document.getElementsByName("piRemove")[0].style.display = "none";
            }
                
            for (var z=0; z<document.getElementsByClassName("actionColumn").length; z++) {
                var parentElem = document.getElementsByClassName("actionColumn")[z];
                if (parentElem.nodeName == 'TD') { 
                    if (parentElem.childNodes.length > 1) {
                        parentElem.innerHTML = "&nbsp;";
                    }
                }
            }
        });
    </script>
    
    <apex:sectionHeader title="Approval Request" subtitle="Wafer Write Off: {!waferWriteOff.Name}" help="https://help.salesforce.com/htviewhelpdoc?id=co_edit.htm&siteLang=en_US" />
    <apex:form id="form1">
        <apex:pageBlock title="Approve/Reject Approval Request" mode="edit">
            <apex:pageblockButtons location="bottom" >
                <apex:commandButton value="Approve" action="{!approveReject}" rendered="{!ShowApproveButton}" rerender="form1">
                    <apex:param name="approvalAction" value="Approve" />
                </apex:commandButton>    
                <apex:commandButton value="Reject" action="{!approveReject}" rerender="form1">
                    <apex:param name="approvalAction" value="Reject" />
                </apex:commandButton> 
                <apex:commandButton value="Cancel" action="{!cancel}" />
            </apex:pageblockButtons>
            
            <apex:pageMessages id="errorMsg" escape="false" />
            
            <apex:pageBlockSection columns="1">
                <apex:outputField value="{!waferWriteOff.Name}" />
                <apex:outputField value="{!waferWriteOff.Status__c}" />
                <apex:outputField value="{!waferWriteOff.Customer_Name__c}" />
                <apex:outputField value="{!waferWriteOff.Fab__c}" />
                <apex:outputField value="{!waferWriteOff.Reason__c}" />
                <apex:outputField value="{!waferWriteOff.Other_Reason__c}" />
                <apex:outputField value="{!waferWriteOff.OwnerId}" />
                <apex:outputField value="{!waferWriteOff.Total_Die_Qty__c}" />
                <apex:outputField value="{!waferWriteOff.Total_Wafer_Qty__c}" />
                <apex:outputField value="{!waferWriteOff.Total_Impact_to_P_L__c}" />
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Comments" />
                    <apex:inputtextarea value="{!comments}" rows="5" cols="100" />
                </apex:pageBlockSectionItem>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
    <apex:relatedList list="ProcessSteps" />
</apex:page>