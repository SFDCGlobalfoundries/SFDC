<apex:page StandardController="RTAT_Slot__c" extensions="RTATScheduleViewController" cache="false" showHeader="false" sidebar="false">    

<apex:sectionHeader title="RTAT Slot Report" subtitle="Details for Slot, Schedule and BOM"/> 
    <apex:form style="font-family: 'Arial Unicode MS';" >
        <apex:pageblock >
            <center>
                <apex:pageBlockButtons location="both">
                    <apex:commandButton action="{!saveAttachement}" value="Save PDF"/>
                    <apex:commandButton action="{!publishSchedule}" value="Publish"/>
                </apex:pageBlockButtons>
                
            </center> 
            <apex:pageBlockSection >
                <apex:pageMessages >
                </apex:pageMessages>
            </apex:pageBlockSection>            
            
            
        
            <apex:pageBlockSection columns="1" title="RTAT Slot Details"  >
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Name" /> 
                    <apex:outputText value="{!RTATSlot.Name}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Technology" /> 
                    <apex:outputText value="{!RTATSlot.Technology__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Wafer Size" /> 
                    <apex:outputText value="{!RTATSlot.Wafer_Size__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Slot Type" /> 
                    <apex:outputText value="{!RTATSlot.Slot_Type__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="ERP Device" /> 
                    <apex:outputField value="{!RTATSlot.ERP_Device_for_Slot__c }" />
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Slot Type" /> 
                    <apex:outputText value="{!RTATSlot.Slot_Type__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Deliverable Type" /> 
                    <apex:outputText value="{!RTATSlot.ERP_Device_Deliverable_Type__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Technology" /> 
                    <apex:outputText value="{!RTATSlot.ERP_Device_Technology__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Fab" /> 
                    <apex:outputText value="{!RTATSlot.Fab__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="MPW" /> 
                    <apex:outputText value="YES" rendered="{!RTATSlot.MPW__c }"/> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Slot Yield Factor" /> 
                    <apex:outputText value="{!RTATSlot.Slot_Yield_Factor__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Owner" /> 
                    <apex:outputField value="{!RTATSlot.Owner.Name }" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="SAP Order Number" /> 
                    <apex:outputField value="{!RTATSlot.SAP_Order_Number__c }" /> 
                </apex:pageBlockSectionItem>
                 <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Conversion Lot Number" /> 
                    <apex:outputField value="{!RTATSlot.Conversion_Lot_Number__c}" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Manufacturing Instructions" /> 
                    <apex:outputField value="{!RTATSlot.Mfg_Instructions__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="General Comments" /> 
                    <apex:outputField value="{!RTATSlot.General_Comments__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="ICC" /> 
                    <apex:outputField value="{!RTATSlot.Internal_Charge_Code__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem dataStyle="color:red; font-weight: bold"  rendered="{!RTATSlot.Not_Committed_Projection_Only__c}" >
                    <apex:outputLabel value="Not Committed - Projection Only" /> 
                    <apex:outputText value="YES" rendered="{!RTATSlot.Not_Committed_Projection_Only__c }"/> 
                </apex:pageBlockSectionItem>
               
                
            </apex:pageBlockSection>
            
            <apex:pageBlockSection columns="1" title="Parent ERP Device"  >
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Name" /> 
                    <apex:outputText value="{!ERP_Device.Name}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Customer" /> 
                    <apex:outputText value="{!AccountName }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Brand" /> 
                    <apex:outputText value="{!ERP_Device.Brand__c}" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Business Unit" /> 
                    <apex:outputText value="{!ERP_Device.Business_Unit__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Part Number" /> 
                    <apex:outputText value="{!ERP_Device.Part_Number__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Primary Option" /> 
                    <apex:outputText value="{!ERP_Device.Option_ID__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Technology" /> 
                    <apex:outputText value="{!ERP_Device.Technology__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Fab" /> 
                    <apex:outputText value="{!ERP_Device.Fab__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Wafer Diameter" /> 
                    <apex:outputText value="{!ERP_Device.Wafer_Diameter__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Product Type" /> 
                    <apex:outputText value="{!ERP_Device.Product_Type__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Deliverable Type " /> 
                    <apex:outputText value="{!ERP_Device.Deliverable_Type__c}" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Level" /> 
                    <apex:outputText value="{!ERP_Device.Level__c }" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="WFT" /> 
                    <apex:outputText value="{!ERP_Device.Test_wafer__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Wafer Tester Type" /> 
                    <apex:outputText value="{!ERP_Device.Wafer_Tester_Type__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Burn In" /> 
                    <apex:outputText value="{!ERP_Device.Burn_In__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Back Side Grind" /> 
                    <apex:outputText value="{!ERP_Device.Back_Side_Grind__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Levels of Metal" /> 
                    <apex:outputText value="{!ERP_Device.Levels_Of_Metal__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Last Level of Metal" /> 
                    <apex:outputText value="{!ERP_Device.Last_Level_of_Metal__c }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Mask Layer Count" /> 
                    <apex:outputText value="{!ERP_Device.Mask_Layer_Count__c }" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Chips per Wafer" /> 
                    <apex:outputText value="{!ERP_Device.Chips_per_Wafer__c }" /> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="MFT" /> 
                    <apex:outputText value="{!ERP_Device.Module_Test_Flag__c  }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Module Tester Type" /> 
                    <apex:outputText value="{!ERP_Device.Module_Tester_Type__c }" /> 
                </apex:pageBlockSectionItem>
                              
            </apex:pageBlockSection>
            
       <apex:pageBlockSection columns="1" title="Wafer Fab Schedule Details"  >
           <apex:pageBlockTable value="{!WaferFabSchedInput }" var="wfsi" id="WFSInputs">             
            </apex:pageBlockTable>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Fab Schedule Name" /> 
                 <apex:outputText value="{!WaferFabSchedInput.Name}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Wafer Build Location" /> 
                 <apex:outputText value="{!WaferFabSchedInput.Wafer_Build_Location__c}" /> 
            </apex:pageBlockSectionItem>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="RIT Type" /> 
                 <apex:outputText value="{!WaferFabSchedInput.RIT_Type__c}" /> 
            </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem rendered="{!IF(CONTAINS(WaferFabSchedInput.RIT_Type__c, 'A'), true, false)}">
                 <apex:outputLabel value="RIT A Wafer Quantity" /> 
                 <apex:outputText value="{!WaferFabSchedInput.RIT_A_Wafer_Start_Quantity__c}" /> 
            </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem rendered="{!IF(CONTAINS(WaferFabSchedInput.RIT_Type__c, 'B'), true, false)}">
                 <apex:outputLabel value="RIT B Wafer Quantity" /> 
                 <apex:outputText value="{!WaferFabSchedInput.RIT_B_Wafer_Start_Quantity__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="FAB Speed" /> 
                 <apex:outputText value="{!IF(CONTAINS(WaferFabSchedInput.RIT_Type__c, 'B'), WaferFabSchedInput.RIT_B_Speed__c, WaferFabSchedInput.RIT_A_Speed__c)}" /> 
            </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Line Code" /> 
                 <apex:outputText value="{!IF(CONTAINS(WaferFabSchedInput.RIT_Type__c, 'B'), WaferFabSchedInput.RIT_B_Line_Code__c, WaferFabSchedInput.RIT_A_Line_Code__c)}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Job Class" /> 
                 <apex:outputText value="{!IF(CONTAINS(WaferFabSchedInput.RIT_Type__c, 'B'), WaferFabSchedInput.RIT_B_Job_Class__c, WaferFabSchedInput.RIT_A_Job_Class__c)}" /> 
            </apex:pageBlockSectionItem>
            
            
           
        </apex:pageBlockSection>
            
        <apex:pageBlockSection columns="1" title="Wafer Finish Details"  rendered="{!IF(ISBLANK(WaferFinishSchedInput.Name), false, true)}" >
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Name" /> 
                 <apex:outputText value="{!WaferFinishSchedInput.Name}" /> 
            </apex:pageBlockSectionItem>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Quality" /> 
                 <apex:outputText value="{!WaferFinishSchedInput.Quality__c}" /> 
            </apex:pageBlockSectionItem>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Finishing Speed" /> 
                 <apex:outputText value="{!WaferFinishSchedInput.Speed__c}" /> 
            </apex:pageBlockSectionItem>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Lot size" /> 
                 <apex:outputText value="{!WaferFinishSchedInput.Lot_size__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Wafer or Device to Stock Qty" /> 
                 <apex:outputText value="{!WaferFinishSchedInput.Wafer_or_device_to_stock_quantity__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="WFT" /> 
                 <apex:outputText value="{!IF(WaferFinishSchedInput.Wafer_Test__c, 'YES', 'NO')}" /> 
            </apex:pageBlockSectionItem>
            
        </apex:pageBlockSection>
            
        <apex:pageBlockSection columns="1" title="Module Schedule Details"  rendered="{!IF(ISBLANK(RTATModuleScheduleInput.Name), false, true)}" >
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Name" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Name}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="MFT" /> 
                 <apex:outputText value="{!IF(RTATModuleScheduleInput.Module_Final_Test__c, 'YES', 'NO')}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Module Start Qty" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Module_Start_Quantity__c}" /> 
            </apex:pageBlockSectionItem>
             <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Modules to Stock Qty" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Modules_to_Stock_Quantity__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Package Type" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Package_Type__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Quality" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Quality__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Speed" /> 
                 <apex:outputText value="{!RTATModuleScheduleInput.Speed__c}" /> 
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Test Tier" /> 
                 <apex:outputText style="page-break-after:always" value="{!RTATModuleScheduleInput.Test_Tier__c}" /> 
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>    
            
        
        
        <apex:pageBlockSection title="Wafer Fab Schedule" >
            <apex:pageBlockTable value="{! milestones }" var="TAT" id="TATTable" style="page-break-after:always">
                <apex:column value="{!TAT.Process__c}" />
                <apex:column value="{!TAT.Subprocess__c}" />
                <apex:column style="text-align:center" value="{!TAT.Subprocess_TAT__c}"/>
                <apex:column style="text-align:center" value="{!TAT.Total_TAT__c}" />
                <apex:column style="text-align:center" value="{!TAT.End_Date__c}" />
            </apex:pageBlockTable>  
            </apex:pageBlockSection>
         
         
            
         <apex:pageBlockSection title="Part Number BOM">
                <apex:pageBlockTable value="{!RTATBOM}" var="myBOM" id="BOMTable">
                    <apex:column headerValue="Part Class" value="{!myBOM.Part_Classification__c}" />
                    <apex:column headerValue="Level Code" value="{!myBOM.Level_code__c}" />
                    <apex:column headerValue="Component" value="{!myBOM.Component__c}" />
                    <apex:column headerValue="Del" value="{!myBOM.Deliverable_PN__c}" />
                    <apex:column headerValue="Prefix PN" value="{!myBOM.Prefix_PN__c}" />
                    <apex:column headerValue="PP Del" value="{!myBOM.Deliverable_P_Level_PN__c}" />
                </apex:pageBlockTable>
         </apex:pageBlockSection>
            
            <apex:pageBlockSection columns="1" title="Summary"  >
                <apex:pageBlockSectionItem dataStyle="text-indent:1%" labelStyle="font-weight:bold">
                    <apex:outputLabel value="Deliverable PN" /> 
                    <apex:outputText value="{!ERP_Device.Part_Number__c}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem dataStyle="text-indent:1%" labelStyle="font-weight:bold">
                    <apex:outputLabel value="Wafer or Device Ship Qty" /> 
                    <apex:outputText value="{!FinalShipQty}" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem dataStyle="text-indent:1%" labelStyle="font-weight:bold" >
                    <apex:outputLabel value="Wafer or Device Ship Date" /> 
                    <apex:outputText value="{0,date, EEEE MMMM d, YYYY}">
                        <apex:param value="{!ShipDate}" /> 
                    </apex:outputText>
                </apex:pageBlockSectionItem>
                <!-- if the RTAT Slot field Not Committed Projection Only is true then we need to say that in RED, 
                     but usually we just display the SAP PO number here -->
                <apex:pageBlockSectionItem labelStyle="font-weight:bold" dataStyle="{!IF( (RTATSlot.Not_Committed_Projection_Only__c = true), 'color:red; font-weight:bold', 'text-indent:1%') }" >
                    <apex:outputLabel value="SAP Order Number" /> 
                    <apex:outputText value="{!IF( (RTATSlot.Not_Committed_Projection_Only__c = true), 'Projection only schedule - NOT COMMITTED!', RTATSlot.SAP_Order_Number__c) }" /> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem dataStyle="text-indent:1% ;font-weight:italic;" labelStyle="font-weight: bold;">
                    <apex:outputLabel value="Internal Charge Code" /> 
                    <apex:outputText value="{!RTATSlot.Internal_Charge_Code__c }" /> 
                </apex:pageBlockSectionItem>
                
            </apex:pageBlockSection>
        
         </apex:pageblock>

        
    </apex:form>
 </apex:page>