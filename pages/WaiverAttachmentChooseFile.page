<apex:page controller="DesignExecutionWaiverController" sidebar="false" showheader="false">
 
 <apex:form >
 <apex:pageBlock >
   <apex:pageBlocksection > 
   <table>
       <tr>
              <td colspan="1"><apex:outputLabel value="Attach File" /></td>
              <td colspan="1">  <apex:inputFile Id="toAttachFile" value="{!waiverAttachment.body}" filename="{!waiverAttachment.name}"/></td>
       </tr>
   </table>
   </apex:pageBlocksection>    
       <apex:pageBlocksection title="Attachments"> 
        <apex:actionRegion >   
                <apex:outputPanel >
                        <table class="ui-widget" style="width:1000px;table-layout:fixed;font-size:11px;" id="table_cds">
                                <thead> <tr>
                                        <td class="ui-widget-header" style="width:270px">Action</td>
                                        <td class="ui-widget-header" style="width:270px">Title</td>
                                        <td class="ui-widget-header" style="width:270px">Created By</td>
                                </tr></thead>
                                <tbody>
                                        <apex:repeat value="{!SOMAttachmentId}" var="na">
                                                <tr>
                                                        <td class="ui-widget-content" > <apex:outputLink value="/servlet/servlet.FileDownload?file={!na.Id}" target="_blank" style="width:270px;">View</apex:outputLink>&nbsp;
                                                        </td>
                                                        <td class="ui-widget-content" > <apex:outputLink value="/{!na.Id}" target="_blank" style="width:270px;">{!SUBSTITUTE(na.Name,'CDS_HEADER_STARTSWITH','')}</apex:outputLink></td> 
                                                        <td class="ui-widget-content" > <apex:outputText value="{!na.CreatedBy.Name}" style="width:270px;"></apex:outputText> </td>
                                                </tr>
                                        </apex:repeat> 
                                </tbody>
                        </table>
                </apex:outputPanel>
        </apex:actionRegion>
    </apex:pageBlockSection> 
     <apex:pageBlockButtons >
            <apex:commandButton value="Save Waiver Attachement" action="{!SaveWaiverAttachment}" >
             <apex:commandButton value="Close" onclick="window.close();"/>
            </apex:commandButton> 
          
          </apex:pageBlockButtons>
    </apex:pageBlock>   
          
   </apex:form>           
</apex:page>