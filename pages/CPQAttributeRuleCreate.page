<!--
    Author: Prosenjit Saha
    Description: This is edit page of the Attribute rules
    History: 
        PSAHA    04052015    - page creation. 
-->
<apex:page standardController="Attribute_Rule__c" 
            extensions="CPQAttributeRuleEditController">
    <apex:sectionHeader title="New Attribute Rule" subtitle="Attribute Rule Edit"/>
    <apex:form id="frm">
    <!-- <apex:actionFunction id="getAttValue" action="{!onSelectAttributeValues}" name="getAttValue" reRender="frm" status="saveTrip" /> -->
    <apex:pageMessages />
    <apex:pageBlock title="Attribute Rule Edit">
        <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!saveAtt}"/> 
                <apex:commandButton value="Cancel" action="{!cancel}"/>          
        </apex:pageBlockButtons>
        <apex:pageBlockSection columns="1">
        
            <apex:inputField value="{!Attribute_Rule__c.name}" required="false"/>
            <apex:inputField value="{!Attribute_Rule__c.CPQ_MLGPLUS__c}" required="true"/>
            <apex:pageBlockSectionItem id="AttributeGroupName"  labelStyle="width:8%;" dataStyle="width:30%;" >                      
                <apex:outputLabel >Attribute Group Name</apex:outputLabel>
                <apex:outputPanel id="inlineViewMain">                        
                    <apex:outputPanel >
                        <apex:selectList value="{!AttributeGroupName}"  size="1" >
                            <apex:actionSupport event="onchange" action="{!onSelectAttributeValues}" rerender="frm"/>
                            <apex:selectOptions value="{!AttributeGroupNameList}"/>
                        </apex:selectList>                                             
                    </apex:outputPanel>                             
                </apex:outputPanel>                       
            </apex:pageBlockSectionItem> 
            <apex:pageBlockSectionItem id="AttributeValues"  labelStyle="width:8%;" dataStyle="width:30%;" rendered="{!AttValue}">                      
                <apex:outputLabel >Attribute Field</apex:outputLabel>
                <apex:outputPanel id="inlineViewMain">                        
                    <apex:outputPanel >
                        <apex:selectList value="{!AttributeField}"  size="1">   
                            <apex:actionSupport event="onchange" action="{!getFieldValuesCreate}" rerender="frm"/>                    
                            <apex:selectOptions value="{!AttributeFieldList}"/>
                        </apex:selectList>                                             
                    </apex:outputPanel>                             
                </apex:outputPanel>   
            </apex:pageBlockSectionItem>   
            <apex:pageBlockSectionItem id="AttributeFieldValues1"  labelStyle="width:8%;" dataStyle="width:30%;" rendered="{!PickValue && AttValue}" >                      
                <apex:outputLabel >Attribute Field Value</apex:outputLabel>
                <apex:outputPanel id="inlineViewMain">                        
                    <apex:outputPanel >
                        <apex:selectList value="{!AttributeFieldValue}"  size="1" >  
                            <apex:selectOptions value="{!AttributeFieldValueList}"/>
                        </apex:selectList>                                             
                    </apex:outputPanel>                             
                </apex:outputPanel>                                   
            </apex:pageBlockSectionItem>  
            
            <apex:inputField value="{!Attribute_Rule__c.Attribute_Field_Value__c}"  rendered="{!!PickValue && AttValue}" id="AttributeFieldValues2"/> 
            <apex:inputField value="{!Attribute_Rule__c.Mask_Layers__c}" rendered="{!AttValue}" />   
        </apex:pageBlockSection>
        
    </apex:pageBlock>
    </apex:form>
</apex:page>