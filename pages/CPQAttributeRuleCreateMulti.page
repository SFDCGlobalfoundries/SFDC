<!--
    Author: Prosenjit Saha
    Description: This is edit page of the Attribute rules
    History: 
        PSAHA    04052015    - page creation. 
-->
<apex:page standardController="Attribute_Rule__c" 
            extensions="CPQAttributeRuleEditMultiController">
    <apex:sectionHeader title="New Attribute Rule" subtitle="Attribute Rule Edit"/>
    <apex:form id="frm">
    <apex:pagemessages />
    <apex:actionFunction reRender="pb" name="addNewRow" action="{!getNewAttibuteRow}"/>
    <!-- <apex:actionFunction id="getAttValue" action="{!onSelectAttributeValues}" name="getAttValue" reRender="frm" status="saveTrip" /> -->
    <apex:pageBlock title="Attribute Rule Edit" id="pb">
        <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!saveAtt}"/> 
                <apex:commandButton value="Cancel" action="{!cancel}"/>  
                <apex:commandButton onclick="addNewRow();return false;"  value="Add New Row" />        
        </apex:pageBlockButtons>
        <apex:pageBlockSection columns="1">
            
            <apex:inputField value="{!record.name}" required="false"/>
            <apex:inputField value="{!record.CPQ_MLGPLUS__c}" required="true"/>
            <apex:pageBlockSection columns="4">
                <apex:outputLabel style="font-weight:bold" value="Attribute Group Name"/>
                <apex:outputLabel style="font-weight:bold" value="Attribute Field"/>
                <apex:outputLabel style="font-weight:bold" value="Attribute Field Value"/>
                <apex:outputLabel style="font-weight:bold" value="Mask Layers"/>
                
                <apex:repeat value="{!AttributeWrapList}" var="AttWrap" >
                    <apex:outputPanel >
                        <apex:selectList value="{!AttWrap.AttributeGroupName}"  size="1" >
                            <apex:selectOptions value="{!AttWrap.AttributeGroupNameList}"/>
                        </apex:selectList>                                             
                    </apex:outputPanel>
                    <apex:outputPanel >
                        <apex:selectList value="{!AttWrap.AttributeField}"  size="1">   
                            <apex:selectOptions value="{!AttWrap.AttributeFieldList}"/>
                        </apex:selectList>                                             
                    </apex:outputPanel> 
                    <apex:inputText value="{!AttWrap.FieldValue}"  id="AttributeFieldValues"/> 
                    <apex:inputText value="{!AttWrap.MaskLayers}"  id="AttributeMaskLayers"/> 
                </apex:repeat>
            </apex:pageBlockSection>
        </apex:pageBlockSection>        
    </apex:pageBlock>
    </apex:form>
</apex:page>