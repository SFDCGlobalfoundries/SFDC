<apex:page standardController="Other_EHS_CSR_Certificate__c" extensions="EHSNewRecord" action="{!resetAccount}"  id="pageId">
    
    <apex:sectionHeader title="Other EHS/CSR Disclosures" subtitle="Other EHS/CSR Disclosures" rendered="{!if((rectypName == 'Other EHS/CSR Disclosures'),true,false)}"/>
    <apex:sectionHeader title="Business Continuity Management" subtitle="Business Continuity Management" rendered="{!if((rectypName == 'Business Continuity Mgmt'),true,false)}"/>
    <apex:sectionHeader title="Impact Notification" subtitle="Impact Notification" rendered="{!if((rectypName == 'Impact Notification'),true,false)}"/>
    <apex:form id="theForm"> 
        <apex:pageMessages ></apex:pageMessages>
        <apex:pageBlock title="{!rectypName}" id="block" > 
            <apex:pageBlockButtons >
                <apex:commandButton value="Save" action="{!saving}" reRender="theForm"/>
                <apex:commandButton value="Save&New" action="{!saveNew}" reRender="theForm"/>
                <apex:commandButton value="Cancel" action="{!cancel}"/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Basic Info" collapsible="true" columns="2" id="blockSection1"> 
                
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                             <apex:outputLabel value="Fab" rendered="{!if((rectypName == 'Other EHS/CSR Disclosures'),true,false)}"/>
                            <apex:outputLabel value="Location" rendered="{!if((rectypName != 'Other EHS/CSR Disclosures'),true,false)}"/>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!QualityCert.Fabs__c}" required="false" id="fab"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Certificate_Title__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel >                    
                        <apex:inputField value="{!QualityCert.Certificate_Title__c}" required="{! if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}" id="certTitle"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Certificate_Type__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel layout="block">                    
                        <apex:inputField value="{!QualityCert.Certificate_Type__c}" required="{! if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}" id="certType"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Expiry_Date__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel layout="block">                       
                        <apex:inputField value="{!QualityCert.Expiry_Date__c}" required="{! if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}" id="ExpDate"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>             
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Effective_Date__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel layout="block">                       
                        <apex:inputField value="{!QualityCert.Effective_Date__c}" required="{! if((rectypName == 'Other EHS/CSR Disclosures' || rectypName == 'Business Continuity Mgmt'),true,false)}" id="EffDate"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>                
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Impact Notification'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Date_of_Occurrence__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel layout="block">                        
                        <apex:inputField value="{!QualityCert.Date_of_Occurrence__c}" required="{! if((rectypName == 'Impact Notification'),TRUE,FALSE)}" id="Occu"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem rendered="{!if((rectypName == 'Impact Notification'),true,false)}">
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="{!$ObjectType.Other_EHS_CSR_Certificate__c.fields.Issue_Description__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel layout="block">                        
                        <apex:inputField value="{!QualityCert.Issue_Description__c}" required="{! if((rectypName == 'Impact Notification'),TRUE,FALSE)}"  id="Issue"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                
            </apex:pageBlockSection>
			<!--Start: Added by Hitesh to resolve page issues -->
            <apex:actionRegion >
            <!--End: Added by Hitesh to resolve page issues -->
            <apex:pageBlockSection title="Customer" columns="1" id="customerSec">  <apex:pageBlockSectionItem >
                <apex:outputPanel >
                    <div align="left"> 
                        <apex:outputText value="Select Type" escape="true" />
                    </div>
                </apex:outputPanel>
                <apex:selectList size="1" value="{!category}" id="Category">
                    <apex:selectOption itemLabel="---Select---" itemValue="None"></apex:selectOption>
					<!--Start: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
					<!-- <apex:selectOption itemLabel="Customer" itemValue="Customer" ></apex:selectOption> -->
                    <apex:selectOption itemLabel="Authorized Customer" itemValue="Auth Customer" ></apex:selectOption>
                    <apex:selectOption itemLabel="Qualified Customer" itemValue="Qual Customer" ></apex:selectOption>
                    <!--End: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                    <!-- <apex:selectOption itemLabel="Enablement" itemValue="Enablement Partner" ></apex:selectOption> -->
                    <apex:selectOption itemLabel="Reseller" itemValue="Reseller" ></apex:selectOption>
                    <apex:actionSupport event="onchange" action="{!resetAccount}" reRender="whiteList" status="counterStatusWhite"/>
                    
                </apex:selectList>  
                
                </apex:pageBlockSectionItem>
                <apex:actionstatus id="counterStatusWhite">
                    <apex:facet name="start">
                        <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." /><span class="waitingDescription">Loading...</span>
                    </apex:facet>
                </apex:actionstatus>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="WhiteList" />
                        </div> 
                    </apex:outputPanel>
                    <apex:panelGrid columns="3" id="whiteList">
                        <apex:selectList id="sel1" value="{!leftselected}" multiselect="true"  style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!selectclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerSelectOption}" />
                        </apex:selectList>
                        <apex:panelGroup >                    
                            &nbsp;&nbsp;&nbsp;<apex:commandbutton value="Add All" action="{!selectallclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                            <br/>                   
                            <center><apex:image value="{!$Resource.multiselected}">
                                <apex:actionSupport event="onclick" action="{!selectclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                                </apex:image></center>
                            <br/>
                            <center><apex:image value="{!$Resource.multiunselected}">
                                <apex:actionSupport event="onclick" action="{!unselectclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                                </apex:image></center>
                            <br/>
                            <apex:commandButton value="Remove All" action="{!unselectallclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                        </apex:panelGroup>
                        <apex:selectList id="sel2" value="{!rightselected}" multiselect="true" style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!unselectclick}" status="counterStatusWhite" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerUnSelectOption}" />
                        </apex:selectList>
                    </apex:panelGrid>
                    
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="Select Type" escape="true" />
                        </div>
                    </apex:outputPanel>
                    <apex:selectList size="1" value="{!category1}" id="Category">
                        <apex:selectOption itemLabel="---Select---" itemValue="None"></apex:selectOption>
                        <!--Start: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
						<!-- <apex:selectOption itemLabel="Customer" itemValue="Customer" ></apex:selectOption> -->
                        <apex:selectOption itemLabel="Authorized Customer" itemValue="Auth Customer" ></apex:selectOption>
                        <apex:selectOption itemLabel="Qualified Customer" itemValue="Qual Customer" ></apex:selectOption>
                        <!--End: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                        <!-- <apex:selectOption itemLabel="Enablement" itemValue="Enablement Partner" ></apex:selectOption> -->
                        <apex:selectOption itemLabel="Reseller" itemValue="Reseller" ></apex:selectOption>
                        <apex:actionSupport event="onchange" action="{!resetAccount}" reRender="blackList,ceOwner" status="counterStatusBlack"/>
                    </apex:selectList>  
                </apex:pageBlockSectionItem>
                <apex:actionstatus id="counterStatusBlack">
                    <apex:facet name="start">
                        <img class="waitingImage" src="/img/loading.gif" title="Please Wait..." /><span class="waitingDescription">Loading...</span>
                    </apex:facet>
                </apex:actionstatus>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                            <apex:outputText value="Black List" />
                        </div> 
                    </apex:outputPanel>
                    <apex:panelGrid columns="3" id="blackList">
                        <apex:selectList id="Bsel1" value="{!leftselectedBlack}" multiselect="true"  style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!selectclickBlack}" status="counterStatusBlack" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerSelectOptionBlack}" />
                        </apex:selectList>
                        <apex:panelGroup >
                            
                            &nbsp;&nbsp;&nbsp;<apex:commandbutton value="Add All" action="{!selectallblackclick}" status="counterStatusBlack" reRender="whiteList,blackList"/>                   
                            <br/>                   
                            <center><apex:image value="{!$Resource.multiselected}">
                                <apex:actionSupport event="onclick" action="{!selectclickBlack}" status="counterStatusBlack" reRender="whiteList,blackList"/>
                                </apex:image></center>
                            <br/>
                            <center><apex:image value="{!$Resource.multiunselected}">
                                <apex:actionSupport event="onclick" action="{!unselectclickBlack}" status="counterStatusBlack" reRender="whiteList,blackList"/>
                                </apex:image></center>
                            <br/>
                            <apex:commandButton value="Remove All" action="{!unselectallblackclick}" status="counterStatusBlack" reRender="whiteList,blackList"/>
                        </apex:panelGroup>
                        <apex:selectList id="Bsel2" value="{!rightselectedBlack}" multiselect="true" style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!unselectclickBlack}" status="counterStatusBlack" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerUnSelectOptionBlack}" />
                        </apex:selectList>
                    </apex:panelGrid>
                </apex:pageBlockSectionItem>                
            </apex:pageBlockSection>
			<!--Start: Added by Hitesh to resolve page issues -->
            </apex:actionRegion>
            <!--End: Added by Hitesh to resolve page issues -->
        </apex:pageBlock>
    </apex:form>
</apex:page>