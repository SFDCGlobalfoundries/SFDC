<apex:page controller="DesignExecutionWaiverController" tabStyle="Custom_Design__c" >

  <apex:form enctype="multipart/form-data" id="frm">
      <apex:pageBlock title="Waiver Capability Send Email Preview Form" id="pgblck">
          <style>
                body .bPageBlock .pbBody .red .pbSubheader{
                    background-color:#c00000;
                }
                body .bPageBlock .pbBody .grey .pbSubheader{
                    background-color:#e9e9e9;
                }
                body .bPageBlock .pbBody .grey .pbSubheader h3{
                color:#000;
                }
                .tableHeader 
                {
                  padding: 0px 10px 10px 0px;
                  margin: 0px 0px 0px 0px;
                  color: #4A4A56;
                  font-size: 100%;
                  //font-weight: bold;
                  font-family: Arial,Helvetica,sans-serif;
                }
            </style>

          <apex:pageBlockButtons >
            <apex:commandButton value="Send Email" action="{!sendWaiverEmail}">
                <apex:param name="recordTypeName" value="{!recordTypeName}"/>
                <apex:param name="sendWaiverEmail" value="true" assignTo="{!sendWaiverEmail}"/>
            </apex:commandButton> 
            <apex:commandButton value="Back to Design Phase Form" action="{!cancelExecutionDetail}"/> 
            <apex:commandButton value="Close" onclick="window.close();"/>
          </apex:pageBlockButtons>
          
          <apex:outputPanel styleClass="tableHeader" layout="block" >        
            <apex:pageBlockSection collapsible="false" title="Design Schedule" columns="1">
                <c:BnP_OptionHeader RcId="{!designExecution.Option__c}"></c:BnP_OptionHeader>
                <!--<apex:pageBlockSection collapsible="false" title="Opportunity" >
                <table border="0" width="240%" >
                   <tr>
                    <td width="25%">End Customer: </td>
                    <td width="25%">{!If(designExecution.End_Customer__c != "",designExecution.End_Customer__c,'')}</td>
                    <td width="25%">Control Number:</td>
                    <td width="25%">{!If(designExecution.Opp_Control_Number__c !="", designExecution.Opp_Control_Number__c ,'')}</td>
                    </tr>
                    <tr>
                    <td>Soldto Customer:</td>
                    <td>{!If(designExecution.Soldto_Customer__c != "",designExecution.Soldto_Customer__c,'')}</td>
                    <td>Status:</td>
                    <td>{!If(designExecution.Status__c != "",designExecution.Status__c,'')}</td>
                    </tr>
                    <tr>
                    <td>End Customer Project:</td>
                    <td>{!If(designExecution.End_Customer_Project__c != "",designExecution.End_Customer_Project__c, '')}</td>
                    </tr>
                    <tr> 
                    <td>Customer Part Name:</td>
                    <td>{!If(designExecution.Customer_Part_Name__c != NULL ,designExecution.Customer_Part_Name__c,'')}</td>
                    </tr>
                </table>
                </apex:pageBlockSection>
                <apex:pageBlockSection collapsible="false" title="Option" >
                <table border="0" width="240%" class="tableHeader">
                   <tr>
                    <td width="25%">MD Part Name:</td>
                    <td width="25%">{!If(designExecution.MD_Part_Name__c != "" , designExecution.MD_Part_Name__c, '')}</td>
                    <td width="25%">Control Number:</td>
                    <td width="25%">{!If(designExecution.Option_Control_Number__c != "", designExecution.Option_Control_Number__c, '')}</td>
                </tr>
                <tr>
                    <td width="25%">Product Type:</td>
                    <td width="25%">{!If(designExecution.Deliverable_Part_Type__c != "" , designExecution.Deliverable_Part_Type__c, '')} </td>
                    <td width="25%">Status:</td>
                    <td width="25%">{!If(designExecution.Part_Number_Status__c != "" , designExecution.Part_Number_Status__c, '')} </td>
                </tr>
                <tr>
                    <td width="25%">Deliverable Part Type:     </td>
                    <td width="25%">{!If(designExecution.Deliverable_Part_Type__c != "" , designExecution.Deliverable_Part_Type__c,'')} </td>
                    <td width="25%">Life Cycle State:</td>
                    <td width="25%"><img src="/resource/TR_DesignExecution" alt=" " border="0"/>  </td>
                </tr>
                <tr>
                    <td width="25%">Deliverable Part Number (DPN):</td>
                    <td width="25%">{!If(designExecution.Deliverable_Part_Number_DPN__c != "" ,designExecution.Deliverable_Part_Number_DPN__c, '')} </td>
                    <td width="25%">Design assay part number (DAPN):</td>
                    <td width="25%">{!If(designExecution.Design_assay_part_number_DAPN__c != "" ,designExecution.Design_assay_part_number_DAPN__c, '')} </td>
                </tr>
                </table>
                </apex:pageBlockSection>-->
                <!--
                <apex:pageBlockSection collapsible="false" title="Building Block" >
                <table border="0" width="240%" class="tableHeader">
                <tr>
                    <td width="25%">MD Part Name:     </td>
                    <td width="25%">"{!designExecution.Customer_Part_Name__c}" </td>
                    <td width="25%">Control Number:</td>
                    <td width="25%">"{!designExecution.Customer_Part_Name__c}" </td>
                </tr>
                <tr>
                    <td width="25%">Type:</td>
                    <td width="25%">"{!designExecution.Customer_Part_Name__c}" </td>
                    <td width="25%">Part number status:</td>
                    <td width="25%">"{!designExecution.Customer_Part_Name__c}" </td>
                </tr>
                <tr>
                    <td width="25%">Part number:</td>
                    <td width="25%">"{!designExecution.Customer_Part_Name__c}" </td>
                </tr>
                </table> 
               </apex:pageBlockSection>
               -->
            </apex:pageBlockSection>
            </apex:outputpanel>
         <apex:outputPanel styleClass="grey" layout="block"> 
             <apex:pageBlockSection collapsible="flase" title="Waiver Requests" />
         </apex:outputPanel> 
              <table border="0" width="100%" class="tableHeader">
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Date requesting the waiver" /></td>
                      <td colspan="1">
                      <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                        <apex:param value="{!waiversDetail.Date_requesting_the_waiver__c}" />
                      </apex:outputText>
                      </td> 
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Waiver need date" /></td>
                      <td colspan="1">
                      <apex:outputText value="{0,date,MM'/'dd'/'yyyy}">
                        <apex:param value="{!waiversDetail.Waiver_need_date__c}" />
                      </apex:outputText>
                      </td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Company" /></td>
                      <td colspan="1"><apex:outputText label="" id="Company__c" value="{!waiversDetail.Company__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Part name" /></td>
                      <td colspan="1"><apex:outputText label="" id="Part_name__c" value="{!waiversDetail.Part_name__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Design System" /></td>
                      <td colspan="1"><apex:outputText label="" id="Design_System__c" value="{!waiversDetail.Design_System__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Document RIT type" /></td>
                      <td colspan="1"><apex:outputText label="" id="Document_RIT_Type__c" value="{!waiversDetail.Document_RIT_Type__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Library version" /></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Library_version__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Tree" /></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Tree__c}"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Waiver for RTL, RTC, RTM" /></td>
                      <td colspan="1"><apex:outputText id="w1" label="" value="{!waiversDetail.Waiver_Type__c}" /></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Section" /></td>
                      <td colspan="1"><apex:outputText id="w2" label="" value="{!waiversDetail.Section__c}" /></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Check being reviewed" /></td>
                      <td colspan="1"><apex:outputText id="w3" label="" value="{!waiversDetail.Check_being_reviewed__c}" /></td>
                  </tr>
                  
                  <tr>
                  <td colspan="2">
                  <apex:outputLabel value="Exact error or warning statement: If error or statement exceeds 32k or 400 lines, please paste it into a Notepad file and attach it using file attach feature on the next GUI screen. Be sure to enter the file name into Error or Statement field for reference." />
                  </td>
                  </tr>
                  <tr>
                      <td colspan="1"></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Exact_error_or_warning_statement__c}" style="width: 460px; height: 50px"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Justification" /></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Justification__c}" style="width: 460px; height: 50px"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Comments" /></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Comments__c}" style="width: 460px; height: 50px"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Impact On Yield Reliability Testability" /></td>
                      <td colspan="1"><apex:outputText label="" value="{!waiversDetail.Impact_On_Yield_Reliability_Testability__c}" style="width: 460px; height: 50px"/></td>
                  </tr>
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Waiver SMEs" /></td>
                      <td colspan="1"><apex:outputfield label="" value="{!waiversDetail.Waiver_SMEs__c}" style="width: 460px; height: 50px"/></td>
                  </tr>
                  
              </table>
        

<apex:outputPanel styleClass="grey" layout="block"> 
             <apex:pageBlockSection collapsible="flase" title="Waiver Requests Email Preview" />
         </apex:outputPanel> 
              <table border="0" width="100%" class="tableHeader">
             
                   <tr>
                    <td colspan="1"><apex:outputLabel value="Add Waiver Approver" /></td>
                    <td colspan="1"><apex:inputfield Id="AddWaiverApprover" label="" value="{!waiversDetail.Add_Approver__c}" /></td>
                    <td colspan="1"> <apex:commandButton value="Add Approver" action="{!AddWaiverApprover}" rerender="toAddress" />           
                    </td>

                  </tr>
                  <tr>
                    <td colspan="1"><apex:outputLabel value="To" /></td>
                    <td colspan="1"><apex:inputTextarea Id="toAddress" label="" value="{!toAddressStr}"  style="width: 460px; height: 50px"/></td>
                  </tr>
                  
                  <tr>
                      <td colspan="1"><apex:outputLabel value="Additional Addressees" /></td>
                      <td colspan="1"><apex:inputTextarea Id="toAdditionalAddress" value="{!additionalAddress}" label="" style="width: 460px; height: 50px"/></td>
                  </tr> 
                
   
                <tr> 
                <td colspan="1"><apex:outputLabel value="Attachment" /></td> 
                <td colspan="1"><apex:outputLink value="/apex/WaiverAttachmentChooseFile?wId={!waiversDetail.ID}" target="_blank">
                  Attach File       
                </apex:outputLink></td>
                </tr>
                </table>
                <!-- <tr>
                      <td colspan="1"><apex:outputLabel value="Attach File" /></td>
                      <td colspan="1">  <apex:inputFile Id="toAttachFile" value="{!waiverAttachment.body}" filename="{!waiverAttachment.name}"/></td>
                  </tr>-->
              
      <!--<apex:pageBlocksection title="Attachments"> 
        <apex:actionRegion >   
                <apex:outputPanel >
                        <table class="ui-widget" style="width:1000px;table-layout:fixed;font-size:11px;" id="table_cds">
                                <thead> <tr>
                                        <td class="ui-widget-header" style="width:270px">Action</td>
                                        <td class="ui-widget-header" style="width:270px">Title</td>
                                        <td class="ui-widget-header" style="width:270px">Created By</td>
                                </tr></thead>
                                <tbody>
                                        <apex:repeat value="{!SOMAttachmentId}" var="na">
                                                <tr>
                                                        <td class="ui-widget-content" > <apex:outputLink value="/servlet/servlet.FileDownload?file={!na.Id}" target="_blank" style="width:270px;">View</apex:outputLink>&nbsp;
                                                        </td>
                                                        <td class="ui-widget-content" > <apex:outputLink value="/{!na.Id}" target="_blank" style="width:270px;">{!SUBSTITUTE(na.Name,'CDS_HEADER_STARTSWITH','')}</apex:outputLink></td> 
                                                        <td class="ui-widget-content" > <apex:outputText value="{!na.CreatedBy.Name}" style="width:270px;"></apex:outputText> </td>
                                                </tr>
                                        </apex:repeat> 
                                </tbody>
                        </table>
                </apex:outputPanel>
        </apex:actionRegion>
    </apex:pageBlockSection>-->  
              
        
      </apex:pageBlock>
      
   
</apex:form>
  

</apex:page>