<apex:page standardController="Quality_Certificate__c" extensions="QCNewRecord" action="{!resetAccount}"  id="pageId">
    <script>
        function CallWebService_JS(isErrorVal, operation){ 
            if(isErrorVal != null && isErrorVal == 'false'){
                CallWebService(operation);
            }
        }
    </script>
    <c:loadingPanel />
    <!-- Renamed Quality Certificate to ISO/TS Certificate 04072014 Vijay  -->
    <!-- Renamed ISO/TS Certificate to ISO/Others Certificate 06162014 Nikhil  -->
    <apex:sectionHeader title="New ISO/Others Certificate" subtitle="New ISO/Others Certificate" />
    <apex:form id="theForm"> 
    <apex:actionFunction action="{!Saving}" name="InsertRecord_JS"  status="LoadingStatusSpinner" reRender="theform,messages" oncomplete="CallWebService_JS('{!isError}', 'save');"/> 
    <apex:actionFunction name="CallWebService" action="{!Createfolder}" status="LoadingStatusSpinner" reRender="theform,messages">
        <apex:param name="operation" assignTo="{!operation}" value=""/>
    </apex:actionFunction>
     <apex:pageMessages id="messages"/>
        <!-- Renamed Quality Certificate to ISO/TS Certificate 04072014 Vijay  -->
        <!-- Renamed ISO/TS Certificate to ISO/Others Certificate 06162014 Nikhil  -->
        <apex:pageBlock title="ISO/Others Certificate" id="block" > 
            <apex:pageBlockButtons >
                <!--<apex:commandButton value="Save" action="{!saving}" status="LoadingStatusSpinner" reRender="theForm,messages"/>-->
                
                <input name="Save" class="btn" type="button" value="Save" onclick="InsertRecord_JS();return false;"/>
                <apex:commandButton value="Save&New" action="{!saveNew}" status="LoadingStatusSpinner" oncomplete="CallWebService_JS('{!isError}', 'savenew');" reRender="theform,messages"/>
                <apex:commandButton value="Cancel" action="{!cancel}"/>
            </apex:pageBlockButtons>
            <apex:pageBlockSection title="Basic Info" collapsible="true" columns="2" id="blockSection1"> 
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Fabs__c.label}" />
                        </div>
                    </apex:outputPanel>
                     <apex:outputPanel styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputField value="{!QualityCert.Fabs__c}" required="false" id="fab"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Certificate_Title__c.label}" />
                        </div>
                    </apex:outputPanel>
                     <apex:outputPanel styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputField value="{!QualityCert.Certificate_Title__c}" required="false" id="certTitle"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Certificate_Type__c.label}" />
                        </div>
                    </apex:outputPanel>
                     <apex:outputPanel styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputField value="{!QualityCert.Certificate_Type__c}" required="false" id="certType"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Approval_Required__c.label}" />
                        </div>
                    </apex:outputPanel>
                     <apex:inputField value="{!QualityCert.Approval_Required__c}" required="false" id="certType"/>                
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Approver__c.label}" />
                        </div>
                    </apex:outputPanel>
                     <apex:outputPanel styleClass="requiredInput" layout="block">
                    <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputField value="{!QualityCert.Approver__c}" required="false" id="certType"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Expiry_Date__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!QualityCert.Expiry_Date__c}" required="false" id="certType"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="{!$ObjectType.Quality_Certificate__c.fields.Effective_Date__c.label}" />
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel styleClass="requiredInput" layout="block">
                        <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                        <apex:inputField value="{!QualityCert.Effective_Date__c}" required="false" id="certType"/>
                    </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Customer" columns="1">  <apex:pageBlockSectionItem >
           <apex:outputPanel >
                        <div align="left"> 
                         <apex:outputText value="Select Type" escape="true" />
                        </div>
                    </apex:outputPanel>
                            
                        <apex:selectList size="1" value="{!category}" id="Category">
                            <apex:selectOption itemLabel="---Select---" itemValue="None"></apex:selectOption>
                            <!--Start: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                            <apex:selectOption itemLabel="Authorized Customer" itemValue="Auth Customer" ></apex:selectOption>
                            <apex:selectOption itemLabel="Qualified Customer" itemValue="Qual Customer" ></apex:selectOption>
                            <!--End: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                            <apex:selectOption itemLabel="Enablement" itemValue="Enablement Partner" ></apex:selectOption>
                            <apex:selectOption itemLabel="Reseller" itemValue="Reseller" ></apex:selectOption>
                            <apex:actionSupport event="onchange" action="{!resetAccount}" reRender="whiteList,ceOwner" status="LoadingStatusSpinner"/>
                            
                        </apex:selectList>  
            
            </apex:pageBlockSectionItem>
            
                <apex:pageBlockSectionItem >
                <apex:outputPanel >
                <div align="left"> 
                <apex:outputText value="WhiteList" />
                </div> 
                </apex:outputPanel>
                <apex:panelGrid columns="3" id="whiteList">
                <apex:selectList id="sel1" value="{!leftselected}" multiselect="true"  style="width:350px" size="7">
                <apex:actionSupport event="ondblclick" action="{!selectclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                    <apex:selectOptions value="{!PopulateCustomerSelectOption}" />
                </apex:selectList>
                    <apex:panelGroup >                    
                        &nbsp;&nbsp;&nbsp;<apex:commandbutton value="Add All" action="{!selectallclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                        <br/>                   
                        <center><apex:image value="{!$Resource.multiselected}">
                        <apex:actionSupport event="onclick" action="{!selectclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                        </apex:image></center>
                        <br/>
                        <center><apex:image value="{!$Resource.multiunselected}">
                            <apex:actionSupport event="onclick" action="{!unselectclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                        </apex:image></center>
                        <br/>
                        <apex:commandButton value="Remove All" action="{!unselectallclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                    </apex:panelGroup>
                    <apex:selectList id="sel2" value="{!rightselected}" multiselect="true" style="width:350px" size="7">
                    <apex:actionSupport event="ondblclick" action="{!unselectclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                    <apex:selectOptions value="{!PopulateCustomerUnSelectOption}" />
                </apex:selectList>
                </apex:panelGrid>
                
                </apex:pageBlockSectionItem>
                 <apex:pageBlockSectionItem >
           <apex:outputPanel >
                        <div align="left"> 
                         <apex:outputText value="Select Type" escape="true" />
                        </div>
                    </apex:outputPanel>
            
                                
                            
                        <apex:selectList size="1" value="{!category1}" id="Category">
                            <apex:selectOption itemLabel="---Select---" itemValue="None"></apex:selectOption>
                            <!--Start: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                            <apex:selectOption itemLabel="Authorized Customer" itemValue="Auth Customer" ></apex:selectOption>
                            <apex:selectOption itemLabel="Qualified Customer" itemValue="Qual Customer" ></apex:selectOption>
                            <!--End: Change by Hitesh 20-Nov-2017--To remove collection size issue-->
                            <apex:selectOption itemLabel="Enablement" itemValue="Enablement Partner" ></apex:selectOption>
                            <apex:selectOption itemLabel="Reseller" itemValue="Reseller" ></apex:selectOption>
                            <apex:actionSupport event="onchange" action="{!resetAccount}" reRender="blackList,ceOwner" status="LoadingStatusSpinner"/>
                            
                        </apex:selectList>  
            
            </apex:pageBlockSectionItem>
                <apex:pageBlockSectionItem >
                    <apex:outputPanel >
                        <div align="left"> 
                        <apex:outputText value="Black List" />
                        </div> 
                    </apex:outputPanel>
                    <apex:panelGrid columns="3" id="blackList">
                        <apex:selectList id="Bsel1" value="{!leftselectedBlack}" multiselect="true"  style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!selectclickBlack}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerSelectOptionBlack}" />
                        </apex:selectList>
                            <apex:panelGroup >
                            
                                &nbsp;&nbsp;&nbsp;<apex:commandbutton value="Add All" action="{!selectallblackclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>                   
                                <br/>                   
                                <center><apex:image value="{!$Resource.multiselected}">
                                    <apex:actionSupport event="onclick" action="{!selectclickBlack}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                                </apex:image></center>
                                <br/>
                                <center><apex:image value="{!$Resource.multiunselected}">
                                    <apex:actionSupport event="onclick" action="{!unselectclickBlack}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                                </apex:image></center>
                                <br/>
                                <apex:commandButton value="Remove All" action="{!unselectallblackclick}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                            </apex:panelGroup>
                            <apex:selectList id="Bsel2" value="{!rightselectedBlack}" multiselect="true" style="width:350px" size="7">
                            <apex:actionSupport event="ondblclick" action="{!unselectclickBlack}" status="LoadingStatusSpinner" reRender="whiteList,blackList"/>
                            <apex:selectOptions value="{!PopulateCustomerUnSelectOptionBlack}" />
                        </apex:selectList>
                    </apex:panelGrid>
                </apex:pageBlockSectionItem>

            </apex:pageBlockSection>
          </apex:pageBlock>
    </apex:form>

</apex:page>