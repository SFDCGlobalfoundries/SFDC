<!-- 
Type Name:  CaseBugAssociationPage.page
Author: Cognizant 
Created Date: 26-Feb-2014
Reason: 
Change History:
Author: 
Modified Date: 
Reason: 
 -->
<apex:page standardController="CaseBugAssociation__c" tabStyle="CaseBugAssociation__c" extensions="CaseBugAssociationController">
     <script type="text/javascript"> 
  function openLookup(baseURL, width, modified, searchParam){
    var originalbaseURL = baseURL;
    var originalwidth = width;
    var originalmodified = modified;
    var originalsearchParam = searchParam;
 
    var lookupType = baseURL.substr(baseURL.length-3, 3);
    if (modified == '1') baseURL = baseURL + searchParam;
 
    var isCustomLookup = false;
 
    // Following "500" is the lookup type for Case object so change this as per your standard or custom object
    if(lookupType == "500"){
 
      var urlArr = baseURL.split("&");
      var txtId = '';
      if(urlArr.length > 2) {
        urlArr = urlArr[1].split('=');
        txtId = urlArr[1];
      }
 
      // Following is the url of Custom Lookup page.
      baseURL = "/apex/CaseCustomLookup?txt=" + txtId;
 
      // Following is the id of apex:form control "myForm". 
      baseURL = baseURL + "&frm=" + escapeUTF("{!$Component.myForm}");
      if (modified == '1') {
        baseURL = baseURL + "&lksearch=" + searchParam;
      }
 
      // Following is the ID of inputField that is the lookup to be customized as custom lookup
      if(txtId.indexOf('CaseLookup') > -1 ){
        isCustomLookup = true;
      }
    }
 
 
    if(isCustomLookup == true){
      openPopup(baseURL, "lookup", 350, 480, "width="+width+",height=480,toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollable=no", true);
    }
    else {
      if (modified == '1') originalbaseURL = originalbaseURL + originalsearchParam;
      openPopup(originalbaseURL, "lookup", 350, 480, "width="+originalwidth+",height=480,toolbar=no,status=no,directories=no,menubar=no,resizable=yes,scrollable=no", true);
    } 
  }
</script>
      <apex:sectionHeader title="Case BugAssociation" subtitle="New Case Bug Association"/>
		 <apex:pageMessages id="msg"></apex:pageMessages>
     <apex:form Id="myForm">
     	
          <apex:pageBlock title="Case Bug Association Edit" mode="edit">
               <apex:pageBlockButtons >
                    <apex:commandButton action="{!save}" value="Save" />
                    <apex:commandButton action="{!SaveAndNew}" value="Save & New"  />
                    <apex:commandButton action="{!cancel}" value="Cancel"/>
               </apex:pageBlockButtons>
               <apex:pageBlockSection id="Information" title="Information" columns="1">
                   <apex:inputField id="CaseLookup" value="{!CaseBugAssociation__c.Case__c}"/>
                   <apex:inputField value="{!CaseBugAssociation__c.Bug__c}"/>
               </apex:pageBlockSection>
          </apex:pageBlock>
     </apex:form>    
</apex:page>