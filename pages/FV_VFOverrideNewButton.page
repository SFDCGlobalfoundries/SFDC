<!--
Type Name: FV_VFOverrideNewButton page
Author: Cognizant 
Created Date: 13-Nov-2014
Reason: Case 34665 - IPDK enhancement
-->

<apex:page standardController="IPDK_License_Information__c" extensions="FV_ClsOverrideNewButton"  action="{!getGroup}" tabStyle="IPDK_License_Information__c">
<script>

var returnURL;
window.onload =  function(){
returnURL = gup('retURL');
//alert('Set retURL = ' + returnURL);

};

function gup( name ){  //this function just grabs HTTP params by name

name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]"); 
var regexS = "[\\?&]"+name+"=([^&#]*)"; 
var regex = new RegExp( regexS ); 
var results = regex.exec( window.location.href );
 if( results == null )    return ""; 
else    return results[1];
}

function redirectBack(){
//alert('Sending you back to ' + returnURL);
window.location.href = '/' + returnURL;
}

</script>

<apex:form >

<apex:pageBlock rendered="{!(isDSGroup=false || isIPDesignKit=false || accpresent=true)}">
  
<apex:pageMessages ></apex:pageMessages>

  
</apex:pageBlock>  


<apex:pageBlock mode="edit" title="Access Approved Information Edit" rendered="{!(isDSGroup=true)}">
<apex:pageBlockButtons >
<apex:commandButton action="{!save}" value="Save" />
<apex:commandButton action="{!cancel}" value="Cancel" oncomplete="{redirectBack()}"/>
</apex:pageBlockButtons>

<apex:pageBlockSection title="Information">
<apex:inputField value="{!IPDK_License_Information__c.name}"/>

<apex:inputField value="{!IPDK_License_Information__c.Account__c}" required="True"/>
<apex:inputField value="{!IPDK_License_Information__c.Specification__c }" required="True"/>
<apex:inputField value="{!IPDK_License_Information__c.Effective_Date__c}" required="True"/>


</apex:pageBlockSection>

</apex:pageBlock>  

</apex:form>
</apex:page>