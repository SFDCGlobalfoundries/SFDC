<apex:page standardController="Account" 
           extensions="AccountMmsController" 
           sidebar="false"
           showHeader="false"
           docType="html-5.0"
           applyHtmlTag="false"
           tabStyle="Account"
           id="pg"
           >
    <style type="text/css">
        .colHeader{ wtext-align: center;}
        .datacell{ text-align: right;width='50px' }
    </style>
    
     <script>
        function redirectPage(recordId) {
            var url = "/apex/AccountMMSEdit?id="+recordId;
            window.top.location.href = url;
        }
    </script> 
    <apex:form >
   
    <apex:pageblock rendered="{!acctMmsDetail != null}">
        <apex:PageBlockButtons location="top">                  
            <apex:commandButton value="Edit MMS" onclick="return redirectPage('{!acctMmsDetail.id}');" rendered="{!readonly}"/>
        </apex:PageBlockButtons>
         <div style='display: block; overflow-y:auto;  overflow-x:auto;height: 150px;width: 75%;' id="tableSection">
        <apex:pageBlockTable value="{!groupList}" var="fs" rules="all">
            <apex:column width="80px" style="background: #f2f3f3; font-weight: bold">
                <apex:outputText value="{!fsName2LabelMap[fs]}" />
            </apex:column>
            
            <apex:repeat value="{!yearList}" var="yr">
                <apex:column width="50px">
                     <apex:facet name="header"><apex:outputText value="{!yr}" styleClass="colHeader"/></apex:facet>
                                            
                     <apex:outputText value="{!mmsMap[fs][yr][1]}" styleClass="datacell" />

                 </apex:column>
            </apex:repeat>
        
        </apex:pageBlockTable>
        </div>
    </apex:PageBlock> 
    
  
   <apex:panelGroup rendered="{!acctMmsDetail = null}">
   <apex:outputtext value="No Account MMS found. To create MMS please click" />
   <apex:commandlink value="New MMS" action="{!newMMS}" target="_blank" styleClass="btn" style="text-decoration: none"/>
   </apex:panelGroup>
    </apex:form>
</apex:page>