<aura:component controller="AARequirementDocument">
	<aura:attribute type="String" name="workId" required="true" description="Currently Displayed Work item's Id."/>
	<aura:attribute type="agf__ADM_Work__c" name="work" description="Currently Displayed Work item"/>
	<aura:attribute type="Agile_Accelerator_TFA_TA_Config__c" name="userType" description="userType"/>
	<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
		<div>
			<div class="heading2">
				{!v.work.Name}
				<div class="{!v.work.TFA_Approved__c?'approval approved': 'approval notYetApproved'}" onclick="{!c.approveTFA}" 
					data-work-id="{!v.work.Id}" data-work-status="{!v.work.TFA_Approved__c}"></div>
				<div class="{!v.work.TA_Approved__c?'approval approved': 'approval notYetApproved'}"  onclick="{!c.approveTA}" 
					data-work-id="{!v.work.Id}" data-work-status="{!v.work.TA_Approved__c}" ></div>
			</div>
			<div class="heading3 moveABit">
				{!v.work.agf__Subject__c}
			</div>
			<aura:renderIf isTrue="{!v.work.agf__Type__c == 'Bug'}">
				<div class="moveABit aasection">
					<ui:outputRichText value="{!v.work.agf__Details_and_Steps_to_Reproduce__c}"/>
				</div>
			</aura:renderIf>
			<aura:renderIf isTrue="{!v.work.agf__Type__c != 'Bug'}">
				<div class="moveABit aasection">
					<ui:outputRichText value="{!v.work.agf__Details__c}"/>
				</div>
			</aura:renderIf>

			<aura:renderIf isTrue="{!v.work.agf__Acceptance_Criteria__r.length > 0}">
				<div class="moveABit aasection">
					<div class="heading3">Acceptance Criteria</div>
					<aura:iteration items="{!v.work.agf__Acceptance_Criteria__r}" var="accptance">
						<div class="heading4">{!accptance.Name}</div>
						<div class="moveABit">
							<p style="font-family:inherit">
								{!accptance.agf__Description__c}
							</p>
						</div>
					</aura:iteration>
				</div>
			</aura:renderIf>
			<c:AADesignDocumentation designId="{!v.work.Design_Documentation__c}"/>
		</div>
</aura:component>